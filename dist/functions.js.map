{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/functions/functions.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","default_dxmap","require","default_hccmap","default_hcccoefn","interactions","ccs","disabl","age","cc_set","Set","int_hccs","diag_cats","my_dcs","key_set","new_values","filter","x","has","hcc85_set","hcc47_set","hcc96_set","size","hcc188_set","hcc114_set","hcc57_set","hcc79_set","int_hccs_new","push","concat","cnt","length","index","clean_cc","cc_array","ver","j","temp_cc_array","toString","split","trim","hcc_values","clean_hcclist","toLowerCase","hcc_gaps","old_list","new_list","model","sex","baserate","never_trump","new_hccs","prep_hccs","diff","hcc_diff","raf","parseFloat","hcc2raf","Math","round","dx_gaps","verbose","dx2hcc","Array","from","get_hcc_dx","clean_dxlist","dx2raf","dx_list","get_raf","unique_hccs","dxdct_hccs","dx_hccs","collator","Intl","Collator","undefined","numeric","sensitivity","sort","compare","dxmap","hccmap","dx_dct","unique_dx","dx","JSON","parse","stringify","ed_leukemia","ed_bronchitis","ed_vasc_insf","ed_emphysema","ed_breastca","ed_low_bw","ed_conjoined","ed_newbn_substance","ed_chron_resp","ed_disruptive_mood","ed_hemophilia","includes","female_sex","edit_dct","agesex_edits","hcc","add","got_trumped","temp_a","temp_b","map","e","temp_c","trumped_hcc","hcc_list","list_dx","String","replace","toUpperCase","dx_set","hcc_map","hcc_list_temp","isNaN","hcc1","hcc_set","hcc2","hccs","trumped_set","child","temp_hcc_set","trump_hccs","hcc_dct","hcc_increment","old_hccs","final_hccs","dx_increments","dxinc","mydx","temp","old_set","new_set","old_children","new_children","new_parents","hcc3","new_hccs_temp","downgraded_temp","downgraded","downgrade_to_temp","downgrade_to","upgraded","prep_hccs_set","upgraded_temp","del_hccs_temp","del_hccs_union","del_hccs","old_raf","delta_raf","member","condition_list","orec","flag","endsWith","demo_codes","demo_str","age_maps","trunc","medicaid","origds","new_enrolee","age_labels","age_lower_bounds","age_upper_bounds","entries","lower_bound","mcaid_flag","origds_flag","ds_str","demo_lst","agesex","cond_dict","conditionlist","allhcc","list_hcc","item","Number","isInteger","startsWith","dct","combined_hccs","condition_resolver","condition","hcc_lst","hcccoefn","demo_detail","hcc_detail","demo_raf","hcc_raf","demo","label","score","toFixed","temp_condition_list","raf_dict","result","dx_array","temp_dx_array","hcc_dict","hcc_cust_list","val","raf_value","dx_values","dx_set_values","forEach","v","cc","temp_hccmap","temp_cc","desc","children","parents","RAF","base_cc_array","additional_cc_array","temp_base_cc_array","temp_additional_cc_array","cclist","adds","downgraded_to","deletes","base_dx_array","additional_dx_array","temp_base_dx_array","temp_additional_dx_array","dx_dict"],"mappings":"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","file":"functions.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 121);\n","var default_dxmap = require('./load_dxmap.json');\r\nvar default_hccmap = require('./load_hccmap.json');\r\nvar default_hcccoefn = require('./load_hcccoefn.json');\r\nvar default_ver = 'v23';\r\nvar default_model = 'CNA'; \r\nvar default_baserate = 868.0;\r\nvar default_verbose = true;\r\nvar default_never_trump = 0;\r\nvar interactions = {'v22': v22_interactions, 'v23': v23_interactions, 'v24': v24_interactions};\r\n\r\n/**\r\n * Returns demographic raf value based on age, gender and coding model\r\n * @customfunction\r\n * @param {string[][]} condition_list accepts array\r\n */\r\nfunction demo_raf(condition_list, age = 65, sex = 'M', model = '', orec = '0', ver = '', baserate = 0.0) {\r\n  for (var i = 0; i < condition_list.length; i++) {\r\n    for (var j = 0; j < condition_list[i].length; j++) {\r\n      condition_list = condition_list;\r\n    }\r\n  }\r\n  var temp_condition_list = condition_list.toString();\r\n  temp_condition_list = temp_condition_list.split(\",\");\r\n  for (i = 0; i < temp_condition_list.length; i++) {\r\n    temp_condition_list[i] = temp_condition_list[i].toString().trim();\r\n  }\r\n  ver === null ? ver = default_ver : ver = ver.toLowerCase();\r\n  model === null ? model = default_model : model = model.toUpperCase();\r\n  baserate = baserate || default_baserate;\r\n\r\n  var raf_dict =  member(condition_list, age, sex, model, orec, ver, baserate);\r\n  result = raf_dict['raf']['demo_score'];\r\n  return result.toString();\r\n}\r\n\r\n/**\r\n * Returns comma-separated list of descriptions of each DX Code from CMS crosswalk.\r\n * @customfunction\r\n * @param {string[][]} dx_array accepts array of hcc codes\r\n */\r\nfunction dx_desc(dx_array, ver = '', age = 0, sex = '', verbose = true) {\r\n  for (i = 0; i < dx_array.length; i++) {\r\n      for (j = 0; j < dx_array[i].length; j++) {\r\n        dx_array = dx_array;\r\n      }\r\n  }\r\n  var temp_dx_array = dx_array.toString();\r\n  temp_dx_array = temp_dx_array.split(\",\");\r\n  for (i = 0; i < temp_dx_array.length; i++) {\r\n    temp_dx_array[i] = temp_dx_array[i].toString().trim();\r\n  }\r\n  ver === null ? ver = default_ver : ver = ver.toLowerCase();\r\n  verbose = verbose || default_verbose;\r\n  \r\n  var hcc_dict = dx_hccs(temp_dx_array, ver, age, sex, verbose);\r\n  var hcc_cust_list = [];\r\n  for (var [key, value] of Object.entries(hcc_dict)) {\r\n    var val = key + \":\" + value[\"desc\"];\r\n    hcc_cust_list.push(val);\r\n  }\r\n  return hcc_cust_list.toString();\r\n}\r\n\r\n/**\r\n * Returns a comma separated list of the ccs represented by a list of DX codes after trumping/interaction logic is applied\r\n * @customfunction\r\n * @param {string[][]} dx_array accepts array of dx codes\r\n */\r\nfunction dx2cc(dx_array, age = 0, ver = '', sex = '', disabl = false, never_trump = 0, verbose = false) {\r\n  for (var i = 0; i < dx_array.length; i++) {\r\n    for (var j = 0; j < dx_array[i].length; j++) {\r\n      dx_array = dx_array;\r\n    }\r\n  }\r\n  var temp_dx_array = dx_array.toString();\r\n  temp_dx_array = temp_dx_array.split(\",\");\r\n  for (i = 0; i < temp_dx_array.length; i++) {\r\n    temp_dx_array[i] = temp_dx_array[i].toString().trim();\r\n  }\r\n  ver === null ? ver = default_ver : ver = ver.toLowerCase();\r\n  never_trump = never_trump || default_never_trump;\r\n  var unique_hccs = dx2hcc(temp_dx_array, age, ver, sex, disabl, never_trump, verbose);\r\n  return unique_hccs.toString();\r\n}\r\n\r\n/**\r\n * Returns cc raf of associated dx codes after conversion to cc and trumping/interaction logic is applied (equivalent of cc_raf(dx2cc(dx_array))\r\n * @customfunction\r\n * @param {string[][]} dx_array accepts array of dx codes\r\n */\r\nfunction dx_raf(dx_array, age = 0, ver = '', model = '', sex = '', disabl = false, verbose = false, never_trump = 0, baserate = 0.0) {\r\n  /*\r\n  Utility to calculate raf from list of DX codes\r\n  */\r\n  for (var i = 0; i < dx_array.length; i++) {\r\n    for (var j = 0; j < dx_array[i].length; j++) {\r\n      dx_array = dx_array;\r\n    }\r\n  }\r\n  var temp_dx_array = dx_array.toString();\r\n  temp_dx_array = temp_dx_array.split(\",\");\r\n  for (i = 0; i < temp_dx_array.length; i++) {\r\n    temp_dx_array[i] = temp_dx_array[i].toString().trim();\r\n  }\r\n  ver === null ? ver = default_ver : ver = ver.toLowerCase();\r\n  model === null ? model = default_model : model = model.toUpperCase();\r\n  baserate = baserate || default_baserate;\r\n  never_trump = never_trump || default_never_trump;\r\n  var raf_value = dx2raf(temp_dx_array, age, ver, model, sex, disabl, verbose, never_trump, baserate);\r\n  return raf_value.toString();\r\n}\r\n\r\n/**\r\n * Given a list of dx codes, return a list of deduped, normalized and untrumped dx codes valid for the coding model\r\n * @customfunction\r\n * @param {string[][]} dx_array accepts array of dx codes\r\n */\r\nfunction clean_dx(dx_array, ver = '') {\r\n  \r\n  // Convert string to list, dedupe, and ensure DX are formatted correctly.\r\n  for (var i = 0; i < dx_array.length; i++) {\r\n    for (var j = 0; j < dx_array[i].length; j++) {\r\n      dx_array = dx_array;\r\n    }\r\n  }\r\n  var temp_dx_array = dx_array.toString();\r\n  temp_dx_array = temp_dx_array.split(\",\");\r\n  for (i = 0; i < temp_dx_array.length; i++) {\r\n    temp_dx_array[i] = temp_dx_array[i].toString().trim();\r\n  }\r\n  ver === null ? ver = default_ver : ver = ver.toLowerCase();\r\n  var dx_values = clean_dxlist(temp_dx_array, ver);\r\n  var dx_set_values = [];\r\n  dx_values.forEach(v => dx_set_values.push(v));\r\n  return dx_set_values.toString();\r\n}\r\n\r\n/**\r\n * Given a list of ccs, return a list of deduped, normalized and untrumped ccs codes valid for the coding model\r\n * @customfunction\r\n * @param {string[][]} cc_array accepts array of hcc codes\r\n */\r\nfunction clean_cc(cc_array, ver = '') {\r\n  for (var i = 0; i < cc_array.length; i++) {\r\n      for (var j = 0; j < cc_array[i].length; j++) {\r\n        cc_array = cc_array;\r\n      }\r\n  }\r\n  var temp_cc_array = cc_array.toString();\r\n  temp_cc_array = temp_cc_array.split(\",\");\r\n  for (i = 0; i < temp_cc_array.length; i++) {\r\n    temp_cc_array[i] = temp_cc_array[i].toString().trim();\r\n  }\r\n  ver === null ? ver = default_ver : ver = ver.toLowerCase();\r\n  var hcc_values = clean_hcclist(temp_cc_array, ver);\r\n  return hcc_values.toString();\r\n}\r\nmodule.exports = clean_cc;\r\n/**\r\n * Returns comma-separated list of descriptions of each HCC Code from CMS crosswalk.\r\n * @customfunction\r\n * @param {string[][]} cc_array accepts array of hcc codes\r\n */\r\nfunction cc_desc(cc_array, ver = '', age = 0, sex = '', verbose = false) {\r\n  for (i = 0; i < cc_array.length; i++) {\r\n      for (j = 0; j < cc_array[i].length; j++) {\r\n        cc_array = cc_array;\r\n      }\r\n  }\r\n  var temp_cc_array = cc_array.toString();\r\n  temp_cc_array = temp_cc_array.split(\",\");\r\n  for (i = 0; i < temp_cc_array.length; i++) {\r\n    temp_cc_array[i] = temp_cc_array[i].toString().trim();\r\n  }\r\n  ver === null ? ver = default_ver : ver = ver.toLowerCase();\r\n  verbose = verbose || default_verbose;\r\n  var hcc_dict = hcc_dct(temp_cc_array, ver, age, sex, verbose);\r\n  var hcc_cust_list = [];\r\n  for (var [key, value] of Object.entries(hcc_dict)) {\r\n    var val = key + \":\" + value[\"desc\"];\r\n    hcc_cust_list.push(val);\r\n  }\r\n  return hcc_cust_list.toString();\r\n}\r\n\r\n/**\r\n * Returns multi-line info block for an HCC: Description, Children, Parents, RAF.  Past MVP can also feed a info pane / popup for desktop calculator like use.\r\nTo enable screen reader support, press Ctrl+Alt+Z To learn about keyboard shortcuts, press Ctrl+slash\r\n * @customfunction\r\n * @param {string[][]} cc accepts array of hcc codes\r\n */\r\nfunction cc_info(cc, ver = '', model = '', disabl = false, age = 0, never_trump = 0, baserate = 0.0) {\r\n  ver === null ? ver = default_ver : ver = ver.toLowerCase();\r\n  model === null ? model = default_model : model = model.toUpperCase();\r\n  baserate = baserate || default_baserate;\r\n  never_trump = never_trump || default_never_trump;\r\n  var temp_hccmap, raf_value;\r\n  for (i = 0; i < cc.length; i++) {\r\n      for (j = 0; j < cc[i].length; j++) {\r\n        cc = cc;\r\n      }\r\n  }\r\n  var temp_cc = cc.toString();\r\n  temp_cc = temp_cc.split(\",\");\r\n  for (i = 0; i < temp_cc.length; i++) {\r\n    temp_cc[i] = temp_cc[i].toString().trim();\r\n  }\r\n  var hccmap = default_hccmap[ver];\r\n  // for (var i = 0; i < temp_cc.length; i++) {\r\n  temp_hccmap = hccmap[temp_cc];\r\n  raf_value = hcc2raf(temp_cc, ver, model, disabl, age, never_trump, baserate);\r\n  // }\r\n  var result = {desc: temp_hccmap['desc'], children: temp_hccmap['children'], parents: temp_hccmap['parents'], RAF: raf_value};\r\n  result = JSON.stringify(result);\r\n  return result.replace(/\"/g, '');\r\n}\r\n\r\n/**\r\n * Returns cc raf (does not include demographic RAF) of cc codes after trumping/interaction logic is applied\r\n * @customfunction\r\n * @param {string[][]} cc_array accepts array of hcc codes\r\n */\r\nfunction cc_raf(cc_array, ver = '', model = '', disabl = false, age = 0, never_trump = 0, baserate = 0.0) {\r\n  for (i = 0; i < cc_array.length; i++) {\r\n      for (j = 0; j < cc_array[i].length; j++) {\r\n        cc_array = cc_array;\r\n      }\r\n  }\r\n  var temp_cc_array = cc_array.toString();\r\n  temp_cc_array = temp_cc_array.split(\",\");\r\n  for (i = 0; i < temp_cc_array.length; i++) {\r\n    temp_cc_array[i] = temp_cc_array[i].toString().trim();\r\n  }\r\n  ver === null ? ver = default_ver : ver = ver.toLowerCase();\r\n  model === null ? model = default_model : model = model.toUpperCase();\r\n  // model = model.toUpperCase() || default_model;\r\n  baserate = baserate || default_baserate;\r\n  never_trump = never_trump || default_never_trump;\r\n  var raf_value = hcc2raf(temp_cc_array, ver, model, disabl, age, never_trump, baserate);\r\n  return raf_value.toString();\r\n}\r\n\r\n/**\r\n * cc_combine\r\n * @customfunction\r\n * @param {string[][]} cc_array accepts array of hcc codes\r\n */\r\nfunction cc_combine(cc_array, ver = '', age = 0, disabl = false, never_trump = 0) {\r\n  for (i = 0; i < cc_array.length; i++) {\r\n      for (j = 0; j < cc_array[i].length; j++) {\r\n        cc_array = cc_array;\r\n      }\r\n  }\r\n  var temp_cc_array = cc_array.toString();\r\n  temp_cc_array = temp_cc_array.split(\",\");\r\n  for (i = 0; i < temp_cc_array.length; i++) {\r\n    temp_cc_array[i] = temp_cc_array[i].toString().trim();\r\n  }\r\n  ver === null ? ver = default_ver : ver = ver.toLowerCase();\r\n  never_trump = never_trump || default_never_trump;\r\n  var hccs = prep_hccs(temp_cc_array, ver, age, disabl, never_trump);\r\n  return hccs.toString();\r\n}\r\n\r\n/**\r\n * Returns the RAF of the net incremental change (+Adds - Upgraded) between cc_lists.  Equivalent of cc_raf(cc_diff_increment)\r\n * @customfunction\r\n * @param {string[][]} base_cc_array accepts array of cc codes\r\n * @param {string[][]} additional_cc_array accepts array of cc codes\r\n */\r\nfunction cc_increment_raf(base_cc_array, additional_cc_array, ver = '', model = '', age = 0, disabl = false, never_trump = 0, baserate = 0.0) {\r\n  for (i = 0; i < base_cc_array.length; i++) {\r\n    for (j = 0; j < base_cc_array[i].length; j++) {\r\n      base_cc_array = base_cc_array;\r\n    }\r\n  }\r\n  var temp_base_cc_array = base_cc_array.toString();\r\n  temp_base_cc_array = temp_base_cc_array.split(\",\");\r\n  for (i = 0; i < temp_base_cc_array.length; i++) {\r\n    temp_base_cc_array[i] = temp_base_cc_array[i].toString().trim();\r\n  }\r\n\r\n  for (i = 0; i < additional_cc_array.length; i++) {\r\n    for (j = 0; j < additional_cc_array[i].length; j++) {\r\n      additional_cc_array = additional_cc_array;\r\n    }\r\n  }\r\n  var temp_additional_cc_array = additional_cc_array.toString();\r\n  temp_additional_cc_array = temp_additional_cc_array.split(\",\");\r\n  for (i = 0; i < temp_additional_cc_array.length; i++) {\r\n    temp_additional_cc_array[i] = temp_additional_cc_array[i].toString().trim();\r\n  }\r\n  ver === null ? ver = default_ver : ver = ver.toLowerCase();\r\n  model === null ? model = default_model : model = model.toUpperCase();\r\n  baserate = baserate || default_baserate;\r\n  never_trump = never_trump || default_never_trump;\r\n  age = age || 0;\r\n  disabl = disabl || false;\r\n  var hcc_dict = hcc_increment(temp_base_cc_array, temp_additional_cc_array, ver, model, age, disabl, never_trump, baserate);\r\n  var result = hcc_dict['raf'];\r\n  return result.toString(); \r\n}\r\n\r\n/**\r\n * Returns the net incremental change between cc_lists, for example for calculating the value of a coding project over claims. Equivalent of +Adds - Upgraded in the format('+HCC001, +HCC18, - HCC019')\r\n * @customfunction\r\n * @param {string[][]} base_cc_array accepts array of cc codes\r\n * @param {string[][]} additional_cc_array accepts array of cc codes\r\n */\r\nfunction cc_increment(base_cc_array, additional_cc_array, ver = '', model = '', age = 0, disabl = false, never_trump = 0, baserate = 0.0) {\r\n  for (i = 0; i < base_cc_array.length; i++) {\r\n    for (j = 0; j < base_cc_array[i].length; j++) {\r\n      base_cc_array = base_cc_array;\r\n    }\r\n  }\r\n  var temp_base_cc_array = base_cc_array.toString();\r\n  temp_base_cc_array = temp_base_cc_array.split(\",\");\r\n  for (i = 0; i < temp_base_cc_array.length; i++) {\r\n    temp_base_cc_array[i] = temp_base_cc_array[i].toString().trim();\r\n  }\r\n\r\n  for (i = 0; i < additional_cc_array.length; i++) {\r\n    for (j = 0; j < additional_cc_array[i].length; j++) {\r\n      additional_cc_array = additional_cc_array;\r\n    }\r\n  }\r\n  var temp_additional_cc_array = additional_cc_array.toString();\r\n  temp_additional_cc_array = temp_additional_cc_array.split(\",\");\r\n  for (i = 0; i < temp_additional_cc_array.length; i++) {\r\n    temp_additional_cc_array[i] = temp_additional_cc_array[i].toString().trim();\r\n  }\r\n  ver === null ? ver = default_ver : ver = ver.toLowerCase();\r\n  model === null ? model = default_model : model = model.toUpperCase();\r\n  baserate = baserate || default_baserate;\r\n  never_trump = never_trump || default_never_trump;\r\n  age = age || 0;\r\n  disabl = disabl || false;\r\n  var hcc_dict = hcc_increment(temp_base_cc_array, temp_additional_cc_array, ver, model, age, disabl, never_trump, baserate);\r\n  var result = hcc_dict['adds'] + \",\" + \"-\" + hcc_dict['upgraded'];\r\n  return result.toString(); \r\n}\r\n\r\n/**\r\n * Special case of diff_deletes that focuses on YoY Chronic Gaps and downgrades.  Maybe does some adjusting for differing coding models yoy, but that sounds hard\r\n * @customfunction\r\n * @param {string[][]} base_cc_array accepts array of cc codes\r\n * @param {string[][]} additional_cc_array accepts array of cc codes\r\n */\r\nfunction cc_gaps(base_cc_array, additional_cc_array, ver = '', model = '', age = 0, sex= '', disabl = false, baserate = 0.0) {\r\n  for (i = 0; i < base_cc_array.length; i++) {\r\n    for (j = 0; j < base_cc_array[i].length; j++) {\r\n      base_cc_array = base_cc_array;\r\n    }\r\n  }\r\n  var temp_base_cc_array = base_cc_array.toString();\r\n  temp_base_cc_array = temp_base_cc_array.split(\",\");\r\n  for (i = 0; i < temp_base_cc_array.length; i++) {\r\n    temp_base_cc_array[i] = temp_base_cc_array[i].toString().trim();\r\n  }\r\n\r\n  for (i = 0; i < additional_cc_array.length; i++) {\r\n    for (j = 0; j < additional_cc_array[i].length; j++) {\r\n      additional_cc_array = additional_cc_array;\r\n    }\r\n  }\r\n  var temp_additional_cc_array = additional_cc_array.toString();\r\n  temp_additional_cc_array = temp_additional_cc_array.split(\",\");\r\n  for (i = 0; i < temp_additional_cc_array.length; i++) {\r\n    temp_additional_cc_array[i] = temp_additional_cc_array[i].toString().trim();\r\n  }\r\n  \r\n  ver === null ? ver = default_ver : ver = ver.toLowerCase();\r\n  model === null ? model = default_model : model = model.toUpperCase();\r\n  baserate = baserate || default_baserate;\r\n\r\n  var hcc_dict = hcc_gaps(temp_base_cc_array, temp_additional_cc_array, ver, model, age, sex, disabl, baserate);\r\n  var result = hcc_dict['Deletes'] + \",\" + hcc_dict['Downgraded'];\r\n  return result.toString();\r\n}\r\n\r\n/**\r\n * Special case of diff_deletes_raf that focuses on YoY Chronic Gaps and downgrades (net raf of downgraded).  Equivalent of cc_chronic(cc_diff_deletes). Maybe does some adjusting for differing coding models yoy, but that sounds hard\r\n * @customfunction\r\n * @param {string[][]} base_cc_array accepts array of cc codes\r\n * @param {string[][]} additional_cc_array accepts array of cc codes\r\n */\r\nfunction cc_gaps_raf(base_cc_array, additional_cc_array, ver = '', model = '', age = 0, sex= '', disabl = false, baserate = 0.0) {\r\n  for (i = 0; i < base_cc_array.length; i++) {\r\n    for (j = 0; j < base_cc_array[i].length; j++) {\r\n      base_cc_array = base_cc_array;\r\n    }\r\n  }\r\n  var temp_base_cc_array = base_cc_array.toString();\r\n  temp_base_cc_array = temp_base_cc_array.split(\",\");\r\n  for (i = 0; i < temp_base_cc_array.length; i++) {\r\n    temp_base_cc_array[i] = temp_base_cc_array[i].toString().trim();\r\n  }\r\n\r\n  for (i = 0; i < additional_cc_array.length; i++) {\r\n    for (j = 0; j < additional_cc_array[i].length; j++) {\r\n      additional_cc_array = additional_cc_array;\r\n    }\r\n  }\r\n  var temp_additional_cc_array = additional_cc_array.toString();\r\n  temp_additional_cc_array = temp_additional_cc_array.split(\",\");\r\n  for (i = 0; i < temp_additional_cc_array.length; i++) {\r\n    temp_additional_cc_array[i] = temp_additional_cc_array[i].toString().trim();\r\n  }\r\n  \r\n  ver === null ? ver = default_ver : ver = ver.toLowerCase();\r\n  model === null ? model = default_model : model = model.toUpperCase();\r\n  baserate = baserate || default_baserate;\r\n\r\n  var hcc_dict = hcc_gaps(temp_base_cc_array, temp_additional_cc_array, ver, model, age, sex, disabl, baserate);\r\n  var result = hcc_dict['raf'];\r\n  return result.toString();\r\n}\r\n\r\n/**\r\n * Compares a base list of ccs and additional ccs and returns an information block on the differences ; eg: \"Adds: HCC001, HCC18; Deletes: HCC135; Upgraded: HCC019; Downgraded:'\r\n * @customfunction\r\n * @param {string[][]} base_cc_array accepts array of cc codes\r\n * @param {string[][]} additional_cc_array accepts array of cc codes\r\n *\r\n */\r\nfunction cc_diff(base_cc_array = [], additional_cc_array = [], ver='', age=0, sex='', model='', disabl=false, never_trump = 0, baserate=0.0) {\r\n  for (i = 0; i < base_cc_array.length; i++) {\r\n    for (j = 0; j < base_cc_array[i].length; j++) {\r\n      base_cc_array = base_cc_array;\r\n    }\r\n  }\r\n  var temp_base_cc_array = base_cc_array.toString();\r\n  temp_base_cc_array = temp_base_cc_array.split(\",\");\r\n  for (i = 0; i < temp_base_cc_array.length; i++) {\r\n    temp_base_cc_array[i] = temp_base_cc_array[i].toString().trim();\r\n  }\r\n\r\n  for (i = 0; i < additional_cc_array.length; i++) {\r\n    for (j = 0; j < additional_cc_array[i].length; j++) {\r\n      additional_cc_array = additional_cc_array;\r\n    }\r\n  }\r\n  var temp_additional_cc_array = additional_cc_array.toString();\r\n  temp_additional_cc_array = temp_additional_cc_array.split(\",\");\r\n  for (i = 0; i < temp_additional_cc_array.length; i++) {\r\n    temp_additional_cc_array[i] = temp_additional_cc_array[i].toString().trim();\r\n  }\r\n  ver === null ? ver = default_ver : ver = ver.toLowerCase();\r\n  model === null ? model = default_model : model = model.toUpperCase();\r\n  baserate = baserate || default_baserate;\r\n  never_trump = never_trump || default_never_trump;\r\n  var cclist = hcc_diff(temp_base_cc_array, temp_additional_cc_array, ver, age, sex, model, disabl, never_trump, baserate);\r\n  var result = {adds: cclist['adds'], upgraded: cclist['upgraded'], downgraded: cclist['downgraded'], downgraded_to: cclist['downgrade_to'], deletes: cclist['deletes']};\r\n  result = JSON.stringify(result);\r\n  return result.replace(/\"/g, '');\r\n}\r\n\r\n/**\r\n * Compares a base list of ccs and additional ccs and returns an information block on the differences ; eg: \"Adds: HCC001, HCC18; Deletes: HCC135; Upgraded: HCC019; Downgraded:'\r\n * @customfunction\r\n * @param {string[][]} base_cc_array accepts array of cc codes\r\n * @param {string[][]} additional_cc_array accepts array of cc codes\r\n *\r\n */\r\nfunction cc_diff_raf(base_cc_array = [], additional_cc_array = [], ver='', age=0, sex='', model='', disabl=false, never_trump = 0, baserate=0.0) {\r\n  for (i = 0; i < base_cc_array.length; i++) {\r\n    for (j = 0; j < base_cc_array[i].length; j++) {\r\n      base_cc_array = base_cc_array;\r\n    }\r\n  }\r\n  var temp_base_cc_array = base_cc_array.toString();\r\n  temp_base_cc_array = temp_base_cc_array.split(\",\");\r\n  for (i = 0; i < temp_base_cc_array.length; i++) {\r\n    temp_base_cc_array[i] = temp_base_cc_array[i].toString().trim();\r\n  }\r\n\r\n  for (i = 0; i < additional_cc_array.length; i++) {\r\n    for (j = 0; j < additional_cc_array[i].length; j++) {\r\n      additional_cc_array = additional_cc_array;\r\n    }\r\n  }\r\n  var temp_additional_cc_array = additional_cc_array.toString();\r\n  temp_additional_cc_array = temp_additional_cc_array.split(\",\");\r\n  for (i = 0; i < temp_additional_cc_array.length; i++) {\r\n    temp_additional_cc_array[i] = temp_additional_cc_array[i].toString().trim();\r\n  }\r\n  ver === null ? ver = default_ver : ver = ver.toLowerCase();\r\n  model === null ? model = default_model : model = model.toUpperCase();\r\n  baserate = baserate || default_baserate;\r\n  never_trump = never_trump || default_never_trump;\r\n  var cclist = hcc_diff(temp_base_cc_array, temp_additional_cc_array, ver, age, sex, model, disabl, never_trump, baserate);\r\n  return cclist[\"raf\"].toString();\r\n}\r\n\r\n/**\r\n * Returns the net incremental change between dx_lists, for example for calculating the value of a coding project over claims. Equivalent of +Adds - Upgraded in the format('+dx001, +dx18, - dx019')\r\n * @customfunction\r\n * @param {string[][]} base_dx_array accepts array of cc codes\r\n * @param {string[][]} additional_dx_array accepts array of cc codes\r\n *\r\n */\r\nfunction dx_increment(base_dx_array = [], additional_dx_array = [], ver = '', model = '', age = 0, disabl = false, never_trump = 0, baserate = 0.0) {\r\n  for (i = 0; i < base_dx_array.length; i++) {\r\n    for (j = 0; j < base_dx_array[i].length; j++) {\r\n      base_dx_array = base_dx_array;\r\n    }\r\n  }\r\n  var temp_base_dx_array = base_dx_array.toString();\r\n  temp_base_dx_array = temp_base_dx_array.split(\",\");\r\n  for (i = 0; i < temp_base_dx_array.length; i++) {\r\n    temp_base_dx_array[i] = temp_base_dx_array[i].toString().trim();\r\n  }\r\n\r\n  for (i = 0; i < additional_dx_array.length; i++) {\r\n    for (j = 0; j < additional_dx_array[i].length; j++) {\r\n      additional_dx_array = additional_dx_array;\r\n    }\r\n  }\r\n  var temp_additional_dx_array = additional_dx_array.toString();\r\n  temp_additional_dx_array = temp_additional_dx_array.split(\",\");\r\n  for (i = 0; i < temp_additional_dx_array.length; i++) {\r\n    temp_additional_dx_array[i] = temp_additional_dx_array[i].toString().trim();\r\n  }\r\n  ver === null ? ver = default_ver : ver = ver.toLowerCase();\r\n  model === null ? model = default_model : model = model.toUpperCase();\r\n  baserate = baserate || default_baserate;\r\n  never_trump = never_trump || default_never_trump;\r\n  var dx_dict  = dx_increments(temp_base_dx_array, temp_additional_dx_array, ver, model, age, disabl, never_trump, baserate);\r\n  var result = dx_dict['adds'] + \",\" + \"-\" + dx_dict['upgraded'];\r\n  return result.toString();\r\n}\r\n\r\n/**\r\n * Returns the RAF of the net incremental change (+Adds - Upgraded) between dx_lists.  Equivalent of dx_raf(dx_diff_increment)\r\n * @customfunction\r\n * @param {string[][]} base_dx_array accepts array of cc codes\r\n * @param {string[][]} additional_dx_array accepts array of cc codes\r\n *\r\n */\r\nfunction dx_increment_raf(base_dx_array = [], additional_dx_array = [], ver = '', model = '', age = 0, disabl = false, never_trump = 0, baserate = 0.0) {\r\n  for (i = 0; i < base_dx_array.length; i++) {\r\n    for (j = 0; j < base_dx_array[i].length; j++) {\r\n      base_dx_array = base_dx_array;\r\n    }\r\n  }\r\n  var temp_base_dx_array = base_dx_array.toString();\r\n  temp_base_dx_array = temp_base_dx_array.split(\",\");\r\n  for (i = 0; i < temp_base_dx_array.length; i++) {\r\n    temp_base_dx_array[i] = temp_base_dx_array[i].toString().trim();\r\n  }\r\n\r\n  for (i = 0; i < additional_dx_array.length; i++) {\r\n    for (j = 0; j < additional_dx_array[i].length; j++) {\r\n      additional_dx_array = additional_dx_array;\r\n    }\r\n  }\r\n  var temp_additional_dx_array = additional_dx_array.toString();\r\n  temp_additional_dx_array = temp_additional_dx_array.split(\",\");\r\n  for (i = 0; i < temp_additional_dx_array.length; i++) {\r\n    temp_additional_dx_array[i] = temp_additional_dx_array[i].toString().trim();\r\n  }\r\n  ver === null ? ver = default_ver : ver = ver.toLowerCase();\r\n  model === null ? model = default_model : model = model.toUpperCase();\r\n  baserate = baserate || default_baserate;\r\n  never_trump = never_trump || default_never_trump;\r\n  var dx_dict  = dx_increments(temp_base_dx_array, temp_additional_dx_array, ver, model, age, disabl, never_trump, baserate);\r\n  var result = dx_dict['raf'];\r\n  return result.toString();\r\n}\r\n\r\n/**\r\n * Special case of diff_deletes that focuses on YoY Chronic Gaps and downgrades.\r\n * @customfunction\r\n * @param {string[][]} base_dx_array accepts array of dx codes\r\n * @param {string[][]} additional_dx_array accepts array of dx codes\r\n *\r\n */\r\nfunction dx_gap(base_dx_array = [], additional_dx_array = [],  ver = '', model = '', age = 0, sex = '', disabl = false, baserate = 0.0) {\r\n  for (i = 0; i < base_dx_array.length; i++) {\r\n    for (j = 0; j < base_dx_array[i].length; j++) {\r\n      base_dx_array = base_dx_array;\r\n    }\r\n  }\r\n  var temp_base_dx_array = base_dx_array.toString();\r\n  temp_base_dx_array = temp_base_dx_array.split(\",\");\r\n  for (i = 0; i < temp_base_dx_array.length; i++) {\r\n    temp_base_dx_array[i] = temp_base_dx_array[i].toString().trim();\r\n  }\r\n\r\n  for (i = 0; i < additional_dx_array.length; i++) {\r\n    for (j = 0; j < additional_dx_array[i].length; j++) {\r\n      additional_dx_array = additional_dx_array;\r\n    }\r\n  }\r\n  var temp_additional_dx_array = additional_dx_array.toString();\r\n  temp_additional_dx_array = temp_additional_dx_array.split(\",\");\r\n  for (i = 0; i < temp_additional_dx_array.length; i++) {\r\n    temp_additional_dx_array[i] = temp_additional_dx_array[i].toString().trim();\r\n  }\r\n  ver === null ? ver = default_ver : ver = ver.toLowerCase();\r\n  model === null ? model = default_model : model = model.toUpperCase();\r\n  baserate = baserate || default_baserate;\r\n  var dx_dict = dx_gaps(temp_base_dx_array, temp_additional_dx_array, ver, model, age, sex, disabl, baserate);\r\n  var result = dx_dict['Deletes'] + \",\" + dx_dict['Downgraded'];\r\n  return result.toString();\r\n}\r\n\r\n/**\r\n * Special case of diff_deletes_raf that focuses on YoY Chronic Gaps and downgrades (net raf of downgraded).  Equivalent of dx_chronic(dx_diff_deletes). Maybe does some adjusting for differing coding models yoy, but that sounds hard\r\n * @customfunction\r\n * @param {string[][]} base_dx_array accepts array of dx codes\r\n * @param {string[][]} additional_dx_array accepts array of dx codes\r\n *\r\n */\r\nfunction dx_gap_raf(base_dx_array = [], additional_dx_array = [],  ver = '', model = '', age = 0, sex = '', disabl = false, baserate = 0.0) {\r\n  for (i = 0; i < base_dx_array.length; i++) {\r\n    for (j = 0; j < base_dx_array[i].length; j++) {\r\n      base_dx_array = base_dx_array;\r\n    }\r\n  }\r\n  var temp_base_dx_array = base_dx_array.toString();\r\n  temp_base_dx_array = temp_base_dx_array.split(\",\");\r\n  for (i = 0; i < temp_base_dx_array.length; i++) {\r\n    temp_base_dx_array[i] = temp_base_dx_array[i].toString().trim();\r\n  }\r\n\r\n  for (i = 0; i < additional_dx_array.length; i++) {\r\n    for (j = 0; j < additional_dx_array[i].length; j++) {\r\n      additional_dx_array = additional_dx_array;\r\n    }\r\n  }\r\n  var temp_additional_dx_array = additional_dx_array.toString();\r\n  temp_additional_dx_array = temp_additional_dx_array.split(\",\");\r\n  for (i = 0; i < temp_additional_dx_array.length; i++) {\r\n    temp_additional_dx_array[i] = temp_additional_dx_array[i].toString().trim();\r\n  }\r\n  ver === null ? ver = default_ver : ver = ver.toLowerCase();\r\n  model === null ? model = default_model : model = model.toUpperCase();\r\n  baserate = baserate || default_baserate;\r\n  var dx_dict = dx_gaps(temp_base_dx_array, temp_additional_dx_array, ver, model, age, sex, disabl, baserate);\r\n  var result = dx_dict['raf'];\r\n  return result.toString();\r\n}\r\n\r\nfunction hcc_gaps(old_list, new_list, ver, model, age, sex, disabl, baserate) {\r\n  /*\r\n  Utility to identify hccs that were dropped or downgraded from one list to the next\r\n  */\r\n  never_trump = default_never_trump;\r\n  var new_hccs = prep_hccs(new_list, ver, age, disabl, never_trump);\r\n  var old_hccs = prep_hccs(old_list, ver, age, disabl, never_trump);\r\n\r\n  var diff = hcc_diff(old_hccs, new_hccs, ver, age, sex, model, disabl, never_trump, baserate);\r\n  var cal1 = parseFloat(hcc2raf(diff['deletes'], ver, model, disabl, age, never_trump, baserate));\r\n  var cal2 = parseFloat(hcc2raf(diff['downgraded'], ver, model, disabl, age, never_trump, baserate));\r\n  var cal3 = parseFloat(hcc2raf(diff['downgrade_to'], ver, model, disabl, age, never_trump, baserate));\r\n  var raf = -(cal1+cal2)+cal3;\r\n  var gaps = { \"Deletes\": diff[\"deletes\"], \"Downgraded\": diff[\"downgraded\"], \"raf\": raf, \"premium\": Math.round(raf * baserate, 2) };\r\n  return gaps;\r\n}\r\n\r\nfunction dx_gaps(old_list, new_list, ver, model, age, sex, disabl, baserate) {\r\n  /*\r\n  Utility to identify hccs that were dropped or downgraded from one list to the next\r\n  */\r\n  never_trump = default_never_trump;\r\n  verbose = default_verbose;\r\n\r\n  var old_hccs = dx2hcc(old_list, age, ver, sex, disabl, never_trump, verbose);\r\n  var new_hccs = dx2hcc(new_list, age, ver, sex, disabl, never_trump, verbose);\r\n  var diff = hcc_gaps(old_hccs, new_hccs, ver, model, age, sex, disabl, baserate);\r\n  diff['Downgraded'] = Array.from(get_hcc_dx(diff['Downgraded'], clean_dxlist(old_list, ver), ver));\r\n  diff['Deletes'] = Array.from(get_hcc_dx(diff['Deletes'], clean_dxlist(old_list, ver), ver));\r\n  return diff;\r\n}\r\n\r\nfunction dx2raf(dx_list, age, ver, model, sex, disabl, verbose, never_trump, baserate) {\r\n  /*\r\n  Utility to calculate raf from list of DX codes\r\n  */\r\n  var hccs = dx2hcc(dx_list, age, ver, sex, disabl, never_trump, verbose);\r\n  var raf = get_raf([], hccs, ver, model, verbose, baserate);\r\n  return raf[\"hcc_score\"];\r\n}\r\n\r\nfunction dx2hcc(dx_list, age, ver, sex, disabl, never_trump, verbose) {\r\n  /*\r\n  Utility to calculate a list of unique, trumped, HCCs from dx codes, includes interactions and age/sex edits.\r\n  :param dx_list: list of str\r\n                  List of DX Codes (case and decimal insensitive)\r\n  :param ver: str\r\n              HCC Model version\r\n  :param age: float\r\n              Beneficiary age\r\n  :param verbose:\r\n  :param disabl: bool\r\n                  Disability flag\r\n  :param sex: Gender {\"M\" or \"F\"}\r\n  :return: list of str\r\n          List of HCC codes\r\n  */\r\n  \r\n  var dx_dct = dx_hccs(dx_list, ver, age, sex, verbose);\r\n  var unique_hccs = dxdct_hccs(dx_dct, never_trump);\r\n  var collator = new Intl.Collator(undefined, { numeric: true, sensitivity: 'base' });\r\n  unique_hccs.sort(collator.compare);\r\n  unique_hccs = interactions[ver](unique_hccs, disabl, age);\r\n  return unique_hccs;\r\n}\r\n\r\nfunction dx_hccs(dx_list, ver, age, sex, verbose) {\r\n  /*\r\n  Look up the HCC code for each unique DX code in a list of DX. Includes trumping and agesex edits\r\n  :param dx_list: list of str\r\n                  List of dx codes; case and decimal insensitive\r\n  :param ver: str\r\n              Optional HCC version. Otherwise uses default version of ccalc object\r\n  :param age: float\r\n              Member age\r\n  :param sex: str\r\n              Member gender {\"M\"/\"F\"}\r\n  :param verbose: bool\r\n                  Include Non HCC DX in outputs\r\n  :return: dict\r\n          Dict of unique DX codes and their corresponding hcc codes\r\n  */\r\n  \r\n  var dxmap = default_dxmap[ver];\r\n  var hccmap = default_hccmap[ver];\r\n  var dx_dct = {};\r\n\r\n  var unique_dx = clean_dxlist(dx_list, ver);\r\n  // Validate DX against model and pull in DX info  \r\n  for (var dx of unique_dx) {\r\n      if (dx in dxmap) {\r\n          dx_dct[dx] = JSON.parse(JSON.stringify(dxmap[dx]));\r\n      } else if (verbose) {\r\n          dx_dct[dx] = { \"desc\": \"\", \"hccs\": {} };\r\n      }\r\n  }\r\n\r\n  if (age && sex) {  // age and sex are optional. w/o them this function can still generically do dx->hcc calcs\r\n      agesex_edits(dx_dct, age, sex);\r\n  }\r\n\r\n  // Find all unique HCCs that are valid in the hcc ver\r\n  var unique_hccs = new Set();\r\n\r\n  for (var key in dx_dct) {\r\n      if (dx_dct.hasOwnProperty(key)) {\r\n          for (var hcc in dx_dct[key]['hccs']) {\r\n              if (dx_dct[key]['hccs'].hasOwnProperty(hcc)) {\r\n                  if (dx_dct[key]['hccs'][hcc] in hccmap) {\r\n                      unique_hccs.add(dx_dct[key]['hccs'][hcc]);\r\n                  }\r\n              }\r\n          }\r\n      }\r\n  };\r\n\r\n  var got_trumped = {};\r\n  for (var hcc of unique_hccs) {\r\n      for (var child of hccmap[hcc]['children']) {\r\n          got_trumped[child] = hcc;\r\n      }\r\n  }\r\n\r\n  // Apply trumping and convert to HCC sets to lists (better for json serialization)\r\n\r\n  for (var dx in dx_dct) {\r\n      if (dx_dct.hasOwnProperty(dx)) {\r\n          var temp_a = dx_dct[dx]['hccs'];\r\n          var temp_b = [];\r\n          for (var i in dx_dct[dx]['hccs']) {\r\n              temp_b.push({ 'desc': hccmap[dx_dct[dx]['hccs'][i]]['desc'] });\r\n          }\r\n          var c = temp_a.map(function (e, i) {\r\n              return [e, temp_b[i]];\r\n          });\r\n          var temp_c = {};\r\n          for (var key in c) {\r\n              if (c.hasOwnProperty(key)) {\r\n                  temp_c[c[key][0]] = c[key][1];\r\n              }\r\n          }\r\n          dx_dct[dx]['hccs'] = temp_c;\r\n          for (var trumped_hcc in got_trumped) {\r\n              if (got_trumped.hasOwnProperty(trumped_hcc)) {\r\n                  if (trumped_hcc in dx_dct[dx]['hccs']) { // If we find trumped HCC, replace with note of its demise\r\n                      dx_dct[dx]['hccs'][trumped_hcc]['trumped by'] = got_trumped[trumped_hcc];\r\n                  }\r\n              }\r\n          }\r\n      }\r\n  }\r\n  return dx_dct;\r\n}\r\n\r\nfunction dxdct_hccs(dx_dct, never_trump = 0) {\r\n  never_trump = never_trump || default_never_trump;\r\n  var hcc_list = new Set();\r\n\r\n  if (never_trump == 0) {\r\n      for (var key in dx_dct) {\r\n          if (dx_dct.hasOwnProperty(key)) {\r\n              for (var hcc in dx_dct[key]['hccs']) {\r\n                  if (dx_dct[key]['hccs'].hasOwnProperty(hcc)) {\r\n                      if (!(dx_dct[key]['hccs'][hcc].hasOwnProperty(['trumped by']))) {\r\n                        hcc_list.add(hcc);                          \r\n                      }\r\n                  }\r\n              }\r\n          }\r\n      }\r\n      hcc_list = Array.from(hcc_list);\r\n      var collator = new Intl.Collator(undefined, { numeric: true, sensitivity: 'base' });\r\n      hcc_list.sort(collator.compare);\r\n  } else {\r\n    var hcc_list = new Set();\r\n    for (var key in dx_dct) {\r\n        if (dx_dct.hasOwnProperty(key)) { \r\n            for (var hcc in dx_dct[key]['hccs']){\r\n                // hcc_list.add(dx_dct[key]['hccs'][hcc]);\r\n                hcc_list.add(hcc);\r\n            }\r\n        }\r\n    }\r\n    hcc_list = Array.from(hcc_list);\r\n    var collator = new Intl.Collator(undefined, { numeric: true, sensitivity: 'base' });\r\n    hcc_list.sort(collator.compare);\r\n  }\r\n  return hcc_list;\r\n}\r\n\r\nfunction clean_dxlist(dx_list, ver) {\r\n  // Convert string to list, dedupe, and ensure DX are formatted correctly.\r\n  var dxmap = default_dxmap[ver];\r\n  var list_dx = [];\r\n  for (var i =0; i < dx_list.length;  i++) {\r\n      if (dx_list[i] != '') {\r\n          list_dx[i] = (String(dx_list[i]).replace('.', '')).toUpperCase();\r\n      }\r\n  }\r\n  if (typeof (list_dx) == 'string') {\r\n      list_dx = list_dx.split(/\\s*,\\s*|\\s+|\\s*;\\s*|\\s*:\\s*/);\r\n  }\r\n  var dx_set = new Set();\r\n  for (var dx = 0; dx < list_dx.length; dx++) {\r\n      if (dxmap.hasOwnProperty(list_dx[dx])) {\r\n          dx_set.add(list_dx[dx]);\r\n      }\r\n  }\r\n  return dx_set;\r\n}\r\n\r\nfunction clean_hcclist(hcc_list, ver) {\r\n  var hcc_map = default_hccmap[ver];\r\n\r\n  if (typeof hcc_list == 'string') {\r\n    hcc_list = hcc_list.split(/\\s*,\\s*|\\s+|\\s*;\\s*|\\s*:\\s*/);\r\n  }\r\n  else if (typeof hcc_list == 'number') {\r\n    hcc_list = [hcc_list];\r\n  }\r\n\r\n  // If you got integers, add the HCC prefix. If strings, make sure they're stripped and uppercase\r\n  var hcc_list_temp = [];\r\n  for (var hcc of hcc_list) {\r\n      if (!isNaN(hcc.toString().trim())) {\r\n          hcc_list_temp.push(\"HCC\" + hcc.toString().trim());\r\n      } else {\r\n          hcc_list_temp.push(hcc.trim().toUpperCase());\r\n      }\r\n  }\r\n  hcc_list = hcc_list_temp;\r\n  //Replacing HCC019 to HCC19\r\n  var hcc_list_temp = [];\r\n  for (var hcc1 of hcc_list) {\r\n      hcc_list_temp.push(hcc1.replace(/HCC0+/, 'HCC'));\r\n  }\r\n  hcc_list = hcc_list_temp;\r\n\r\n  // We want HCC1 rather than HCC001, etc.\r\n  var hcc_set = new Set();\r\n  for (var hcc2 of hcc_list) {\r\n      if (hcc_map.hasOwnProperty(hcc2)) {\r\n          hcc_set.add(hcc2);\r\n      }\r\n  }\r\n  return Array.from(hcc_set);\r\n}\r\n\r\nfunction hcc2raf(hcc_list, ver, model, disabl, age, never_trump, baserate) {\r\n  /*\r\n  Utility for calculating hcc raf for a list of hccs\r\n  */\r\n  var temp_hcc_list = prep_hccs(hcc_list, ver, age, disabl, never_trump);\r\n  var raf = get_raf([], temp_hcc_list, ver, model, verbose = true, baserate);\r\n  return raf[\"hcc_score\"];\r\n}\r\n\r\nfunction prep_hccs(hcc_list, ver, age, disabl, never_trump) {\r\n  /*\r\n  Utility for prepping an HCC list, applying Trumping and Interactions; does not include age/sex interactions\r\n  as they at the DX level\r\n  */\r\n  var hccs = trump_hccs(hcc_list, ver, never_trump);\r\n  hccs = interactions[ver](hccs, disabl, age);\r\n  return hccs;\r\n}\r\n\r\nfunction trump_hccs(hcc_list, ver, never_trump) {\r\n  // Given a list of HCCs and an HCC version, returns a list of HCCs after trumping\r\n  ver === null ? ver = default_ver : ver = ver.toLowerCase();\r\n  never_trump = never_trump || default_never_trump;\r\n  var hccmap = default_hccmap[ver];\r\n\r\n  // Make sure we're getting the right format\r\n  hcc_list_temp = clean_hcclist(hcc_list, ver);\r\n  if (never_trump == 0) {\r\n      var hcc_set = new Set(hcc_list_temp);\r\n      var trumped_set = new Set();\r\n      for (var hcc of hcc_set) {\r\n          if (hcc in hccmap) {\r\n              for (var child of hccmap[hcc]['children']) {\r\n                  trumped_set.add(child);\r\n              }\r\n          }\r\n      }\r\n      var temp_hcc_set = new Set([...hcc_set].filter(x => !trumped_set.has(x)));\r\n      hcc_list_temp = Array.from(temp_hcc_set);\r\n  }\r\n\r\n  var collator = new Intl.Collator(undefined, { numeric: true, sensitivity: 'base' });\r\n  hcc_list_temp.sort(collator.compare);\r\n  return hcc_list_temp;\r\n}\r\n\r\nfunction hcc_dct(hcc_list, ver, age, sex, verbose) {\r\n  var hccmap = default_hccmap[ver];\r\n  var unique_hccs = new Set();\r\n  for (var hcc of hcc_list) {\r\n      if (hcc in hccmap) {\r\n          unique_hccs.add(hcc);\r\n      }\r\n  }\r\n\r\n  var got_trumped = {};\r\n  for (var hcc of unique_hccs) {\r\n      for (var child of hccmap[hcc]['children']) {\r\n          got_trumped[child] = hcc;\r\n      }\r\n  }\r\n  var hcc_dct = {};\r\n\r\n  for (var hcc of unique_hccs) {\r\n      if (hccmap.hasOwnProperty(hcc)) {\r\n          hcc_dct[hcc] = JSON.parse(JSON.stringify(hccmap[hcc]))  // Get details for this hcc Code\r\n          delete hcc_dct[hcc]['parents'];\r\n          delete hcc_dct[hcc]['children'];\r\n      } else if (verbose) {\r\n          hcc_dct[hcc] = { \"desc\": \"\", \"parents\": {} };\r\n      }\r\n\r\n  }\r\n\r\n  for (var hcc in hcc_dct) {\r\n      for (var trumped_hcc in got_trumped) {\r\n          if (trumped_hcc == hcc) {  // If we find trumped HCC, replace with note of its demise\r\n              hcc_dct[hcc]['trumped by'] = got_trumped[trumped_hcc];\r\n          }\r\n      }\r\n  }\r\n\r\n  return hcc_dct;\r\n}\r\n\r\nfunction hcc_increment(old_list, new_list, ver, model, age, disabl, never_trump, baserate) {\r\n  // Utility to identify the incremental HCCs and value of adding a new list HCCs to a base list of HCCs\r\n  var new_hccs = prep_hccs(new_list, ver, age, disabl, never_trump)\r\n  var old_hccs = prep_hccs(old_list, ver, age, disabl, never_trump)\r\n  new_hccs = new_hccs + ','.concat(old_hccs)\r\n  var final_hccs = prep_hccs(new_hccs, ver, age, disabl, never_trump)\r\n  var diff = hcc_diff(old_hccs, final_hccs, ver, age, sex = '', model, disabl, never_trump, baserate)\r\n  diff[\"final_hccs\"] = final_hccs;\r\n  delete diff['downgraded'];\r\n  delete diff['downgrade_to'];\r\n  delete diff['deletes'];\r\n  return diff;\r\n}\r\n\r\nfunction dx_increments(old_list, new_list, ver, model, age, disabl, never_trump, baserate) {\r\n  // Utility to identify the incremental HCCs and value of adding a new list DXs to a base list of DXs\r\n  var verbose = default_verbose;\r\n  var old_hccs = dx2hcc(old_list, age, ver, sex = '', disabl, never_trump, verbose);\r\n  var new_hccs = dx2hcc(new_list, age, ver, sex = '', disabl, never_trump, verbose);\r\n  var diff = hcc_increment(old_hccs, new_hccs, ver, model, age, disabl, never_trump, baserate);\r\n\r\n  var dxinc = {\r\n      \"adds\": Array.from(get_hcc_dx(diff['adds'], clean_dxlist(new_list, ver), ver)),\r\n      \"upgraded\": Array.from(get_hcc_dx(diff[\"upgraded\"], clean_dxlist(old_list, ver), ver)),\r\n  };\r\n  dxinc['raf'] = diff['raf'];\r\n  dxinc['premium'] = diff['premium'];\r\n  return dxinc;\r\n}\r\n\r\nfunction get_hcc_dx(hcc_list, dx_list, ver) {\r\n  var dxmap = default_dxmap[ver];\r\n  var hcc_set = new Set(hcc_list);\r\n  var mydx = new Set();\r\n  for (var dx of dx_list) {\r\n      var temp_set = new Set(dxmap[dx]['hccs']);\r\n      var temp = ([...temp_set].filter(x => hcc_set.has(x)));\r\n      if (dxmap.hasOwnProperty(dx) && temp.length) {\r\n          mydx.add(dx);\r\n      }\r\n  }\r\n  // mydx = {dx for dx in dx_list if dx in dxmap and dxmap[dx]['hccs'].intersection(hcc_set)}\r\n  return mydx;\r\n}\r\n\r\nfunction hcc_diff(old_list, new_list, ver, age, sex, model, disabl, never_trump, baserate) {\r\n  /*\r\n  Calculate the changes between two hcc lists, {\"adds\":[], \"upgraded\":[] \"downgraded\":[], \"deletes\":[]}\r\n  - \"adds\" are new HCC Codes (includes upgrades of other codes),\r\n  - \"upgraded\" are codes from base that are no longer relevant due to new codes\r\n  - \"downgraded\" are codes from base that are present at a lower specificity in new\r\n  - \"deletes\" are codes from base that are no longer present at all\r\n  */\r\n  var hccmap = default_hccmap[ver];\r\n  // Prep cleans and trumps the list and add interactions\r\n  var old_set = new Set(prep_hccs(old_list, ver, age, disabl));\r\n  var new_set = new Set(prep_hccs(new_list, ver, age, disabl, never_trump));\r\n\r\n  // Find the full set of codes that each set can trump\r\n  var old_children = new Set();\r\n  var new_children = new Set();\r\n  var new_parents = new Set();\r\n  for (var hcc1 of old_set) {\r\n      if (hcc1 in hccmap) {\r\n          for (var child of hccmap[hcc1]['children']) {\r\n              old_children.add(child)\r\n          }\r\n      }\r\n  }\r\n  for (var hcc2 of new_set) {\r\n      if (hcc2 in hccmap) {\r\n          for (var child of hccmap[hcc2]['children']) {\r\n            new_children.add(child)\r\n          }\r\n      }\r\n  }\r\n  for (var hcc3 of new_set) {\r\n      if (hcc3 in hccmap) {\r\n          for (var child of hccmap[hcc3]['parents']) {\r\n            new_parents.add(child)\r\n          }\r\n      }\r\n  }\r\n\r\n  // New HCCs, except where they are trumped by old HCCs (downgrades)\r\n  var new_hccs_temp = new Set([...new_set].filter(x => !old_set.has(x)));\r\n  var new_hccs = new Set([...new_hccs_temp].filter(x => !old_children.has(x)));\r\n  var downgraded_temp = new Set([...old_set].filter(x => !new_set.has(x)));\r\n  var downgraded = new Set([...downgraded_temp].filter(x => new_parents.has(x)));\r\n  var downgrade_to_temp = new Set([...new_set].filter(x => !old_set.has(x)));\r\n  var downgrade_to = new Set([...downgrade_to_temp].filter(x => old_children.has(x)));\r\n  //new_hccs = new_set.difference(old_set).difference(old_children)\r\n  //downgraded = old_set.difference(new_set).intersection(new_parents)\r\n  //downgrade_to = new_set.difference(old_set).intersection(old_children)\r\n  var upgraded = new Set();\r\n  if (never_trump === 1) {\r\n      var prep_hccs_set = new Set(prep_hccs(Array.from(new_set)));\r\n      var upgraded_temp = new Set([...old_set].filter(x => !prep_hccs_set.has(x)));\r\n      upgraded = ([...upgraded_temp].filter(x => new_children.has(x)));\r\n      //old_set.difference(set(this.prep_hccs(list(new_set)))).intersection(new_children)\r\n  } else {\r\n      var upgraded_temp = new Set([...old_set].filter(x => !new_set.has(x)));\r\n      upgraded = ([...upgraded_temp].filter(x => new_children.has(x)));\r\n      //upgraded = old_set.difference(new_set).intersection(new_children)\r\n  }\r\n\r\n  var del_hccs_temp = new Set([...old_set].filter(x => !new_set.has(x)));\r\n  var del_hccs_union = new Set([...upgraded, ...downgraded]);\r\n  var del_hccs = new Set([...del_hccs_temp].filter(x => !del_hccs_union.has(x)));\r\n  //del_hccs = old_set.difference(new_set).difference(upgraded.union(downgraded))\r\n\r\n  var old_raf = hcc2raf(Array.from(old_set), ver = ver, model = model, baserate = baserate, never_trump = never_trump);\r\n  var new_raf = hcc2raf(Array.from(new_set), ver = ver, model = model, baserate = baserate, never_trump = never_trump);\r\n  var delta_raf = new_raf - old_raf;\r\n\r\n  var diff = {\r\n      \"adds\": Array.from(new_hccs),\r\n      \"upgraded\": Array.from(upgraded),\r\n      \"downgraded\": Array.from(downgraded),\r\n      \"downgrade_to\": Array.from(downgrade_to),\r\n      \"deletes\": Array.from(del_hccs),\r\n      \"raf\": delta_raf,\r\n      \"premium\": Math.round(delta_raf * baserate, 2)\r\n  }\r\n  return diff;\r\n}\r\n\r\nfunction member(condition_list, age, sex, model, orec, ver, baserate) {\r\n  /*\r\n      Builds an HCC risk score for a Medicare Advantage member given demographic and disease factors\r\n      :param dx_list: list of str\r\n                      List of DX codes; case and decimal insensitive\r\n      :param age: float\r\n                  Age of member\r\n      :param sex: str\r\n                  Gender of Member: Accepts \"M\"/\"F\", \"Male\"/\"Female\" or CMS numerical codes 1/2\r\n      :param model: str\r\n                  HCC Model to be used for member. Accepts:\r\n                      \"CNA\": Community - Non-dual aged\r\n                      \"CND\": Community - Non-dual disabled\r\n                      \"CFA\": Community - Full Benefit dual aged\r\n                      \"CFD\": Community - Full Benefit dual disabled\r\n                      \"CPA\": Community - Partial Benefit dual aged\r\n                      \"CPD\": Community - Partial Benefit dual disabled\r\n                      \"INS\": Institutional\r\n                      \"NE\": New enrollee\r\n                      \"SNPNE\": C-SNP new enrolee\r\n      :param orec: str\r\n                  Original Reason for Entitlement:\r\n                      \"0\": Old age (OASI)\r\n                      \"1\": Disability (DIB)\r\n                      \"2\": End Stage Renal Disease (ESRD)\r\n                      \"3\": Both DIB and ESRD\r\n\r\n      :param ver: str\r\n                  Version of HCC Model to be used (overrides default version set in Ccalc).\r\n                  Accepts {'v22', 'v23', 'v24'}\r\n      :return: dict\r\n              Map of factors and risk scores for member\r\n  */\r\n  \r\n  // Get age/sex/disability demographic codes\r\n  var disabl = model.endsWith(\"D\");\r\n  var demo_codes = agesex(age, sex, orec, model);\r\n  var cond_dict = condition_resolver(condition_list, ver);\r\n  var condition = cond_dict['condition'];\r\n  var allhcc = cond_dict['allhcc'];\r\n  var verbose = default_verbose;\r\n  var flag;\r\n  var raf;\r\n  var dx_dct;\r\n\r\n  if (allhcc == 1) {\r\n      var dx_dct = hcc_dct(condition, ver, age, sex, verbose);\r\n      unique_hccs = prep_hccs(condition, ver = ver, age = age);\r\n      unique_hccs = interactions[ver](unique_hccs, disabl, age);\r\n      raf = get_raf(demo_codes, unique_hccs, ver, model, verbose, baserate);\r\n      flag = 'hcc';\r\n  } else {\r\n      // process DX list\r\n      dx_dct = dx_hccs(condition, ver, age, sex, verbose);\r\n      var unique_hccs = dxdct_hccs(dx_dct);\r\n      unique_hccs = interactions[ver](unique_hccs, disabl, age);\r\n      raf = get_raf(demo_codes, unique_hccs, ver, model, verbose, baserate);\r\n      flag = 'dx';\r\n  }\r\n\r\n  return {\r\n      \"hcc_model\": { \"version\": ver, \"model\": model },\r\n      \"demo\": { \"age\": age, \"sex\": sex, \"orec\": orec },\r\n      \"raf\": raf,\r\n      'flag': flag,\r\n      \"dx_hccs\": dx_dct\r\n  }\r\n}\r\n\r\nfunction condition_resolver(conditionlist, ver = '', never_trump = 0, allhcc = 0) {\r\n  //need factoring\r\n  ver === null ? ver = default_ver : ver = ver.toLowerCase();\r\n  never_trump = never_trump || default_never_trump;\r\n  var list_hcc = [];\r\n  for (item in conditionlist) {\r\n    if (Number.isInteger(item) || item.startsWith('HCC')){\r\n      list_hcc.push(item);\r\n    }\r\n  }\r\n  // list_hcc = conditionlist.filter(item => Number.isInteger(item) || item.startsWith('HCC'));\r\n  var list_dx = [];\r\n  var list_dx_clean = [];\r\n  var dct = new Set();\r\n  if ((list_hcc.length > 0) || allhcc) {\r\n      allhcc = 1;\r\n      list_dx = conditionlist.filter(item => !(list_hcc.includes(item)));\r\n      list_dx_clean = clean_dxlist(list_dx, ver);\r\n      var hccs = dx2hcc(list_dx_clean, ver = ver, never_trump = never_trump);\r\n      var combined_hccs = list_hcc.concat(hccs);\r\n      dct = { 'allhcc': allhcc, 'condition': combined_hccs };\r\n\r\n  } else {\r\n      list_dx = conditionlist;\r\n      dct = { 'allhcc': allhcc, 'condition': list_dx };\r\n  }\r\n  return dct;\r\n}\r\n\r\nfunction agesex_edits(dx_dct, age, sex) {\r\n  /*\r\n  Edits DX List for a beneficiary based on AGE/SEX (From CMS I0V05ED2.TXT)\r\n  Valid for V22, V23, V24\r\n  :param dx_dct: dict\r\n                 Dict of {DX:HCC}\r\n  :param age: float\r\n              Age of member\r\n  :param sex: str\r\n              Member's gender\r\n  :return: dx_dct: dict\r\n              Dictionary of {DX:HCC} edited per member age/sex rules\r\n  */\r\n  var ed_leukemia = [\"C9100\", \"C9101\", \"C9102\", \"C9500\", \"C9501\", \"C9502\",\r\n      \"C7400\", \"C7401\", \"C7402\", \"C7410\", \"C7411\", \"C7412\",\r\n      \"C7490\", \"C7491\", \"C7492\"];\r\n\r\n  var ed_bronchitis = [\"J410\", \"J411\", \"J418\", \"J42\", \"J440\", \"J441\"];\r\n\r\n  var ed_vasc_insf = [\"K55011\", \"K55012\", \"K55019\", \"K55021\", \"K55022\",\r\n      \"K55029\", \"K55031\", \"K55032\", \"K55039\", \"K55041\", \"K55042\",\r\n      \"K55049\", \"K55051\", \"K55052\", \"K55059\", \"K55061\", \"K55062\",\r\n      \"K55069\", \"K5530\", \"K5531\", \"K5532\", \"K5533\"];\r\n\r\n  var ed_emphysema = [\"J430\", \"J431\", \"J432\", \"J438\", \"J439\", \"J449\", \"J982\", \"J983\"];\r\n\r\n  var ed_breastca = [\"C50011\", \"C50012\", \"C50019\", \"C50021\", \"C50022\", \"C50029\",\r\n      \"C50111\", \"C50112\", \"C50119\", \"C50121\", \"C50122\", \"C50129\",\r\n      \"C50211\", \"C50212\", \"C50219\", \"C50221\", \"C50222\", \"C50229\",\r\n      \"C50311\", \"C50312\", \"C50319\", \"C50321\", \"C50322\", \"C50329\",\r\n      \"C50411\", \"C50412\", \"C50419\", \"C50421\", \"C50422\", \"C50429\",\r\n      \"C50511\", \"C50512\", \"C50519\", \"C50521\", \"C50522\", \"C50529\",\r\n      \"C50611\", \"C50612\", \"C50619\", \"C50621\", \"C50622\", \"C50629\",\r\n      \"C50811\", \"C50812\", \"C50819\", \"C50821\", \"C50822\", \"C50829\",\r\n      \"C50911\", \"C50912\", \"C50919\", \"C50921\", \"C50922\", \"C50929\"];\r\n\r\n  var ed_low_bw = [\"P0500\", \"P0501\", \"P0502\", \"P0503\", \"P0504\", \"P0505\",\r\n      \"P0506\", \"P0507\", \"P0508\", \"P0509\", \"P0510\", \"P0511\",\r\n      \"P0512\", \"P0513\", \"P0514\", \"P0515\", \"P0516\", \"P0517\",\r\n      \"P0518\", \"P0519\", \"P052\", \"P059\", \"P0700\", \"P0701\",\r\n      \"P0702\", \"P0703\", \"P0710\", \"P0714\", \"P0715\", \"P0716\",\r\n      \"P0717\", \"P0718\", \"P0720\", \"P0721\", \"P0722\", \"P0723\",\r\n      \"P0724\", \"P0725\", \"P0726\", \"P0730\", \"P0731\", \"P0732\",\r\n      \"P0733\", \"P0734\", \"P0735\", \"P0736\", \"P0737\", \"P0738\",\r\n      \"P0739\", \"P080\", \"P081\", \"P0821\", \"P0822\"];\r\n\r\n  var ed_conjoined = [\"Q894\"];\r\n\r\n  var ed_newbn_substance = [\"K551\", \"K558\", \"K559\",\r\n      \"P041\", \"P0411\", \"P0412\", \"P0413\", \"P0414\", \"P0415\",\r\n      \"P0416\", \"P0417\", \"P0418\", \"P0419\", \"P041A\",\r\n      \"P042\", \"P043\", \"P0440\", \"P0441\", \"P0442\", \"P0449\",\r\n      \"P045\", \"P046\", \"P048\", \"P0481\", \"P0489\",\r\n      \"P049\", \"P930\", \"P938\", \"P961\", \"P962\",\r\n      \"Q390\", \"Q391\", \"Q392\", \"Q393\", \"Q394\", \"Q6410\",\r\n      \"Q6411\", \"Q6412\", \"Q6419\", \"Q790\", \"Q791\", \"Q792\",\r\n      \"Q793\", \"Q794\", \"Q7951\"];\r\n\r\n  var ed_chron_resp = [\"P270\", \"P271\", \"P278\", \"P279\"];\r\n\r\n  var ed_disruptive_mood = [\"F3481\"];\r\n\r\n  var ed_hemophilia = [\"D66\", \"D67\"];\r\n\r\n  // Optimal to have the loop outside of the age checks, but this is easier to read\r\n  for (var dx in dx_dct) {\r\n\r\n      // Split acute lymphoid and other acute leukemias, except  myeloid diagnoses to age 18+ (HCC 8)\r\n      // and age <18 (HCC 9). Split adrenal gland cancer diagnoses to age 18+ (HCC 10) and age <18 (HCC 9).\r\n      if (age < 18 && ed_leukemia.includes(dx)) {\r\n        dx_dct[dx]['hccs'] = ([\"HCC9\"]);\r\n      }\r\n\r\n      // Split chronic bronchitis diagnoses to age 18+ (HCC 160) and age <18 (HCC 161)\r\n      if (age < 18 && ed_bronchitis.includes(dx)) {\r\n        dx_dct[dx]['hccs'] = ([\"HCC161\"]);\r\n      }\r\n\r\n      // Split acute vascular insufficiency of intestine diagnosis to age 2+ (HCC 154) and age <2 (HCC 42)\r\n      if (age < 2 && ed_vasc_insf.includes(dx)) {\r\n        dx_dct[dx]['hccs'] = [(\"HCC42\")];\r\n      }\r\n\r\n      // Split breast cancer diagnoses to age 50+ (HCC 12) and age <50 (HCC 11)\r\n      if (age < 50 && ed_breastca.includes(dx)) {\r\n        dx_dct[dx]['hccs'] = ([\"HCC11\"]);\r\n      }\r\n\r\n      // Split emphysema diagnoses to age 18+ (HCC 160) and age 2-17 (HCC160; split not needed in HHS model).\r\n      // If age <2 out of payment model\r\n      if (age < 2 && ed_emphysema.includes(dx)) {\r\n        dx_dct[dx]['hccs'] = ([\"HCC1\"]);\r\n      }\r\n\r\n      // Edit for newborn low birthweight. If age 1+ out of payment model\r\n      if (age != 0 && ed_low_bw.includes(dx)) {\r\n        dx_dct[dx]['hccs'] = ([\"HCC1\"]);\r\n      }\r\n\r\n      // Split conjoined twins diagnoses to age 1+ (HCC 97) and age <1 (HCC 247)\r\n      if (age >= 1 && ed_conjoined.includes(dx)) {\r\n        dx_dct[dx]['hccs'] = ([\"HCC97\"]);\r\n      }\r\n\r\n      // Neonatal effects of maternal drug abuse: If age 2+ out of payment model\r\n      if (age >= 2 && ed_newbn_substance.includes(dx)) {\r\n        dx_dct[dx]['hccs'] = ([\"HCC1\"]);\r\n      }\r\n\r\n      // Split chronic respiratory disease arising in the perinatal period diagnoses to age 2+\r\n      // (HCC 162) and age <2 (HCC 127).\r\n      if (age >= 2 && ed_chron_resp.includes(dx)) {\r\n        dx_dct[dx]['hccs'] = ([\"HCC162\"]);\r\n      }\r\n\r\n      // Mood disorder: Edit for targeted age of diagnosis. If age <6 or age >18 out of payment model.\r\n      if (age < 6 || age > 18 && ed_disruptive_mood.includes(dx)) {\r\n        dx_dct[dx]['hccs'] = ([\"HCC1\"]);\r\n      }\r\n\r\n      // Split hemophilia diagnoses to male (HCC 66 if age <65 or HCC 66 if age 65+; age split not needed in HHS model)\r\n      //  and female (HCC 75)\r\n      female_sex = [\"2\", \"F\", \"Female\"];\r\n      if (female_sex.includes(sex) && ed_hemophilia.includes(dx)) {\r\n        dx_dct[dx]['hccs'] = ([\"HCC75\"]);\r\n      }\r\n  }\r\n\r\n  edit_dct = {};  // Build new dict after filtering out all HCCs edited out\r\n  for (dx in dx_dct) {\r\n      if (dx_dct[dx]['hccs'] != ([\"HCC1\"])) {\r\n          edit_dct[dx] = dx_dct[dx];\r\n      }\r\n  }\r\n\r\n  return edit_dct;\r\n}\r\n\r\nfunction get_raf(demo_lst, hcc_lst, ver, model, verbose, baserate) {\r\n  /*\r\n  Look up demographic and hcc RAF for a member given codes. IMPORTANT: ASSUMES HCCs are already clean and deduped\r\n  and hierarchy. Based on CMS V2218O1P.TXT.  Returns a dict of risk scores in the format:\r\n  {\r\n      raf: float of total risk factor,\r\n      premium: PM PM payment for members of this raf and base rate($)\r\n      demo_raf: float of demographic risk factor\r\n      hcc_raf: float of hcc risk factor\r\n      demo_detail: dict of {demographic_code: demo_raf} for each demographic code in list\r\n      hcc_defail: dict of {hcc_code: hcc:raf} for each hcc code in list\r\n  :param model: str\r\n                  Hcc model for use\r\n  :param demo_lst: list of str\r\n                  List of applicable demographic codes for a member (eg CNA_F65_70)\r\n  :param hcc_lst: list of str\r\n                  List of hccs (assumes hccs have already been trumped)\r\n  :param ver: str\r\n                  Optional HCC version to be used in calculation\r\n  :param model: str\r\n          Optional HCC model to be used in calculation\r\n  :param verbose: bool\r\n  :param baserate: float\r\n                  pmpm premium base rate\r\n  :return: dict\r\n          raf_dct\r\n  */\r\n  ver === null ? ver = default_ver : ver = ver.toLowerCase();\r\n  model === null ? model = default_model : model = model.toUpperCase();\r\n  baserate = baserate || default_baserate;\r\n  verbose = verbose || default_verbose;\r\n\r\n  var hcccoefn = default_hcccoefn[ver];\r\n  var demo_detail = {};\r\n  var hcc_detail = {};\r\n  var demo_raf = 0.0;\r\n  var hcc_raf = 0.0;\r\n\r\n  for (var demo of demo_lst) {\r\n      if (hcccoefn.hasOwnProperty(demo)) {\r\n          demo_detail[demo] = hcccoefn[demo];\r\n          demo_raf += hcccoefn[demo];\r\n      }\r\n  }\r\n\r\n  for (var hcc = 0; hcc < hcc_lst.length; hcc++) {\r\n      var label = model + \"_\" + hcc_lst[hcc];\r\n      if (label in hcccoefn) {\r\n          hcc_detail[label] = hcccoefn[label];\r\n          hcc_raf += hcccoefn[label];\r\n      } else if (verbose) {\r\n          hcc_detail[label] = 0.0;\r\n      }\r\n  }\r\n\r\n  var score = (demo_raf + hcc_raf).toFixed(4);\r\n  var raf_dct = {\r\n      \"score\": score,\r\n      \"premium\": (score * baserate).toFixed(2),\r\n      \"demo_score\": (demo_raf).toFixed(4),\r\n      \"hcc_score\": (hcc_raf).toFixed(4),\r\n      \"demo_detail\": demo_detail,\r\n      \"hcc_detail\": hcc_detail\r\n  };\r\n  return raf_dct;\r\n}\r\n\r\nfunction agesex(age, sex, orec, model) {\r\n  /*\r\n      Create demographic variables used in regressions, from CMS SAS macro AGESEXV2\r\n      Valid for V22, V23, V24\r\n      :param age: float\r\n                  Age of beneficiary\r\n      :param sex: str\r\n                  Gender of beneficiary\r\n      :param orec: str\r\n                  Original reason for enrollment\r\n      :param model: str\r\n                  Code for CMS model (str)\r\n      :return: list of str\r\n              list of demographic str for looking up demo coefficients\r\n  */\r\n  let age_maps = {\r\n      \"STD\": [\"0_34\", \"35_44\", \"45_54\", \"55_59\", \"60_64\", \"65_69\", \"70_74\", \"75_79\",\r\n          \"80_84\", \"85_89\", \"90_94\", \"95_GT\"],\r\n      \"NE\": [\"0_34\", \"35_44\", \"45_54\", \"55_59\", \"60_64\", \"65\", \"66\", \"67\", \"68\", \"69\", \"70_74\", \"75_79\",\r\n          \"80_84\", \"85_89\", \"90_94\", \"95_GT\"]\r\n  };\r\n\r\n  age = Math.trunc(age);  // In case float is passed and someone at upper age bound\r\n\r\n  let demo_str;\r\n  let male_sex = [\"M\", \"MALE\", \"1\"];\r\n  if (male_sex.includes(sex.toUpperCase())) {\r\n      demo_str = 'M';\r\n  } else {\r\n      demo_str = \"F\";\r\n  }\r\n\r\n  // Directly from CMS AGESEXV2\r\n  let disabl = (age < 65) && (orec != \"0\");\r\n  let origds = (orec == \"1\") && !(disabl);\r\n  let medicaid;\r\n  let medicaid_condition = [\"CP\", \"CF\"];\r\n  if (medicaid_condition.includes(model)) {\r\n      medicaid = true;\r\n  } else {\r\n      medicaid = false;\r\n  }\r\n  let new_enrolee = model.endsWith(\"NE\");\r\n  let age_labels = [];\r\n  if (new_enrolee) {\r\n      age_labels = age_maps[\"NE\"];\r\n  } else {\r\n      age_labels = age_maps[\"STD\"];\r\n  }\r\n\r\n  // Derive the lower bound & upper bound of each age band from ordered list of age labels\r\n  let age_lower_bounds = [];\r\n  let age_upper_bounds = [];\r\n  for (let i in age_labels) {\r\n      let split = age_labels[i].split(\"_\");\r\n      age_lower_bounds.push(split[0]);\r\n      age_upper_bounds.push(split[1]);\r\n  }\r\n\r\n  for (const [i, lower_bound] of age_lower_bounds.entries()) {\r\n      if (i == age_lower_bounds[age_lower_bounds.length] - 1) {\r\n          demo_str += age_labels[i];\r\n          break;\r\n      }\r\n      if ((lower_bound >= age) && (lower_bound < age_lower_bounds[i + 1])) {\r\n          demo_str += age_labels[i];\r\n          break;\r\n      }\r\n  }\r\n\r\n  if (model.endsWith(\"NE\")) {\r\n      if (medicaid) {\r\n          let mcaid_flag = \"\";\r\n      } else {\r\n          mcaid_flag = \"N\";\r\n      }\r\n      if (origds) {\r\n          let origds_flag = \"\";\r\n      } else {\r\n          origds_flag = \"N\";\r\n      }\r\n      demo_str = mcaid_flag + \"MCAID_\" + origds_flag + \"ORIGDIS_NE\" + demo_str;\r\n  }\r\n\r\n  let demo_lst = [model + \"_\" + demo_str];\r\n  let model_type = [\"CNA\", \"CFA\", \"CPA\"];\r\n  let ds_str;\r\n  let sex_type;\r\n\r\n  if ((model_type.includes(model)) && origds) {\r\n      if (sex === \"M\") {\r\n          sex_type = \"Male\";\r\n      } else {\r\n          sex_type = \"Female\";\r\n      }\r\n      ds_str = model + \"_OriginallyDisabled_\" + sex_type;\r\n      demo_lst.push(ds_str);\r\n  }\r\n  return demo_lst;\r\n}\r\n\r\nfunction v22_interactions(ccs, disabl, age = '') {\r\n  /*\r\n  Calculated interaction HCCs given a list of hccs, age, and disability flag\r\n  :param ccs: List of HCCs in the format \"HCC18\" no trumping or cleaning of HCCs is done in this function\r\n  :param disabl: CMS disabled flag\r\n  :param age: Optional age of beneficiary; only one interaction uses age and it will be assumed false if not entered\r\n  :return: List of HCC codes, including interaction codes\r\n  */\r\n  var cc_set = new Set(ccs);\r\n  var int_hccs = {};\r\n\r\n  // diagnostic categories\r\n\r\n  var diag_cats = {\r\n      \"CANCER\": new Set([\"HCC8\", \"HCC9\", \"HCC10\", \"HCC11\", \"HCC12\"]),\r\n      \"DIABETES\": new Set([\"HCC17\", \"HCC18\", \"HCC19\"]),\r\n      \"CARD_RESP_FAIL\": new Set([\"HCC82\", \"HCC83\", \"HCC84\"]),\r\n      \"CHF\": new Set([\"HCC85\"]),\r\n      \"gCopdCF\": new Set([\"HCC110\", \"HCC111\", \"HCC112\"]),\r\n      \"RENAL\": new Set([\"HCC134\", \"HCC135\", \"HCC136\", \"HCC137\"]),\r\n      \"SEPSIS\": new Set([\"HCC2\"]),\r\n      \"gSubstanceAbuse\": new Set([\"HCC54\", \"HCC55\"]),\r\n      \"gPsychiatric\": new Set([\"HCC57\", \"HCC58\"])\r\n  };\r\n\r\n  var my_dcs = {};\r\n\r\n  for (var key in diag_cats) {\r\n      if (diag_cats.hasOwnProperty(key)) {\r\n          var key_set = new Set(diag_cats[key])\r\n          var new_values = new Set([...key_set].filter(x => cc_set.has(x)));\r\n          my_dcs[key] = new_values;\r\n      }\r\n  \r\n  }\r\n  // Community Interactions\r\n  var hcc85_set = new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\r\n  var hcc47_set = new Set([...new Set([\"HCC47\"])].filter(x => cc_set.has(x)));\r\n  var hcc96_set = new Set([...new Set([\"HCC96\"])].filter(x => cc_set.has(x)));\r\n\r\n  // int_hccs[\"HCC47_gCancer\"] = my_dcs[\"CANCER\"] && new Set([...new Set([\"HCC47\"])].filter(x => cc_set.has(x)));\r\n  if ( my_dcs[\"CANCER\"].size && hcc47_set.size) {\r\n    int_hccs[\"HCC47_gCancer\"] = hcc47_set;\r\n  }else {\r\n    int_hccs[\"HCC47_gCancer\"] = new Set();\r\n  }\r\n\r\n  // int_hccs[\"HCC85_gDiabetesMellit\"] = my_dcs[\"DIABETES\"] && new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\r\n  if (my_dcs[\"DIABETES\"].size && hcc85_set.size) {\r\n      int_hccs[\"HCC85_gDiabetesMellit\"] = hcc85_set;\r\n  }else {\r\n    int_hccs[\"HCC85_gDiabetesMellit\"] = new Set();\r\n  }\r\n\r\n  // int_hccs[\"HCC85_gCopdCF\"] = my_dcs[\"gCopdCF\"] && new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\r\n  if (my_dcs[\"gCopdCF\"].size && hcc85_set.size) {\r\n      int_hccs[\"HCC85_gCopdCF\"] = hcc85_set;\r\n  }else {\r\n    int_hccs[\"HCC85_gCopdCF\"] = new Set();\r\n  }\r\n\r\n  // int_hccs[\"HCC85_gRenal_V23\"] = my_dcs[\"RENAL\"] && new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\r\n  if (my_dcs[\"RENAL\"].size && hcc85_set.size) {\r\n      int_hccs[\"HCC85_gRenal_V23\"] = hcc85_set;\r\n  }else {\r\n    int_hccs[\"HCC85_gRenal_V23\"] = new Set();\r\n  }\r\n  // int_hccs[\"gRespDepandArre_gCopdCF\"] = my_dcs[\"gCopdCF\"] && my_dcs[\"CARD_RESP_FAIL\"];\r\n  if (my_dcs[\"gCopdCF\"].size && my_dcs[\"CARD_RESP_FAIL\"].size) {\r\n    int_hccs[\"gRespDepandArre_gCopdCF\"] = my_dcs[\"CARD_RESP_FAIL\"];\r\n  }else {\r\n    int_hccs[\"gRespDepandArre_gCopdCF\"] = new Set();\r\n  }\r\n  // int_hccs[\"HCC85_HCC96\"] = new Set([...new Set([\"HCC96\"])].filter(x => cc_set.has(x))) && new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\r\n  if (hcc96_set.size && hcc85_set.size) {\r\n    int_hccs[\"HCC85_HCC96\"] = hcc96_set;\r\n  }else {\r\n    int_hccs[\"HCC85_HCC96\"] = new Set();\r\n  }\r\n  // int_hccs[\"gSubstanceAbuse_gPsychiatric_V23\"] = my_dcs[\"gPsychiatric\"] && my_dcs[\"gSubstanceAbuse\"];\r\n  if (my_dcs[\"gPsychiatric\"].size && my_dcs[\"gSubstanceAbuse\"].size) {\r\n    int_hccs[\"gSubstanceAbuse_gPsychiatric\"] =  my_dcs[\"gSubstanceAbuse\"];\r\n  }else {\r\n    int_hccs[\"gSubstanceAbuse_gPsychiatric\"] = new Set();\r\n  }\r\n  // institutional model interactions\r\n  var hcc188_set = new Set([...new Set([\"HCC188\"])].filter(x => cc_set.has(x)));\r\n  var hcc114_set = new Set([...new Set([\"HCC114\"])].filter(x => cc_set.has(x)));\r\n  var hcc57_set = new Set([...new Set([\"HCC57\"])].filter(x => cc_set.has(x)));\r\n  var hcc79_set = new Set([...new Set([\"HCC79\"])].filter(x => cc_set.has(x)));\r\n  \r\n  int_hccs[\"PRESSURE_ULCER\"] = new Set([...new Set([\"HCC157\", \"HCC158\"])].filter(x => cc_set.has(x)));\r\n  //int_hccs[\"CHF_gCopdCF\"] = my_dcs[\"CHF\"] && my_dcs[\"gCopdCF\"];\r\n  if (my_dcs[\"CHF\"].size && my_dcs[\"gCopdCF\"].size) {\r\n    int_hccs[\"CHF_gCopdCF\"] =  my_dcs[\"gCopdCF\"];\r\n  }else {\r\n    int_hccs[\"CHF_gCopdCF\"] = new Set();\r\n  }\r\n\r\n  //int_hccs[\"gCopdCF_CARD_RESP_FAIL\"] = my_dcs[\"gCopdCF\"] && my_dcs[\"CARD_RESP_FAIL\"];\r\n  if (my_dcs[\"CARD_RESP_FAIL\"].size && my_dcs[\"gCopdCF\"].size) {\r\n    int_hccs[\"gCopdCF_CARD_RESP_FAIL\"] =  my_dcs[\"CARD_RESP_FAIL\"];\r\n  }else {\r\n    int_hccs[\"gCopdCF_CARD_RESP_FAIL\"] = new Set();\r\n  }\r\n\r\n  //int_hccs[\"SEPSIS_PRESSURE_ULCER\"] = my_dcs[\"SEPSIS\"] && int_hccs[\"PRESSURE_ULCER\"];\r\n  if (my_dcs[\"SEPSIS\"].size && int_hccs[\"PRESSURE_ULCER\"].size) {\r\n    int_hccs[\"SEPSIS_PRESSURE_ULCER\"] =  int_hccs[\"PRESSURE_ULCER\"];\r\n  }else {\r\n    int_hccs[\"SEPSIS_PRESSURE_ULCER\"] = new Set();\r\n  }\r\n\r\n\r\n  // int_hccs[\"SEPSIS_ARTIF_OPENINGS\"] = my_dcs[\"SEPSIS\"] && new Set([...new Set([\"HCC188\"])].filter(x => cc_set.has(x)));\r\n  if (my_dcs[\"SEPSIS\"].size && hcc188_set.size) {\r\n    int_hccs[\"SEPSIS_ARTIF_OPENINGS\"] = hcc188_set;\r\n  }else {\r\n    int_hccs[\"SEPSIS_ARTIF_OPENINGS\"] = new Set();\r\n  }\r\n\r\n  // int_hccs[\"ART_OPENINGS_PRESSURE_ULCER\"] = new Set([...new Set([\"HCC188\"])].filter(x => cc_set.has(x))) && int_hccs[\"PRESSURE_ULCER\"];\r\n  if (int_hccs[\"PRESSURE_ULCER\"].size && hcc188_set.size) {\r\n    int_hccs[\"ART_OPENINGS_PRESSURE_ULCER\"] = int_hccs[\"PRESSURE_ULCER\"];\r\n  }else {\r\n    int_hccs[\"ART_OPENINGS_PRESSURE_ULCER\"] = new Set();\r\n  }\r\n\r\n  // int_hccs[\"DIABETES_CHF\"] = my_dcs[\"DIABETES\"] && my_dcs[\"CHF\"];\r\n  if (my_dcs[\"DIABETES\"].size && my_dcs[\"CHF\"].size) {\r\n    int_hccs[\"DIABETES_CHF\"] = my_dcs[\"CHF\"];\r\n  }else {\r\n    int_hccs[\"DIABETES_CHF\"] = new Set();\r\n  }\r\n\r\n\r\n  // int_hccs[\"gCopdCF_ASP_SPEC_B_PNEUM\"] = my_dcs[\"gCopdCF\"] && new Set([...new Set([\"HCC114\"])].filter(x => cc_set.has(x)));\r\n  if (my_dcs[\"gCopdCF\"].size && hcc114_set.size) {\r\n    int_hccs[\"gCopdCF_ASP_SPEC_B_PNEUM\"] = hcc114_set;\r\n  }else {\r\n    int_hccs[\"gCopdCF_ASP_SPEC_B_PNEUM\"] = new Set();\r\n  }\r\n\r\n  // int_hccs[\"ASP_SPEC_BACT_PNEUM_PRES_ULC\"] = new Set([...new Set([\"HCC114\"])].filter(x => cc_set.has(x))) && int_hccs[\"PRESSURE_ULCER\"];\r\n  if (int_hccs[\"PRESSURE_ULCER\"].size && hcc114_set.size) {\r\n    int_hccs[\"ASP_SPEC_BACT_PNEUM_PRES_ULC\"] = int_hccs[\"PRESSURE_ULCER\"];\r\n  }else {\r\n    int_hccs[\"ASP_SPEC_BACT_PNEUM_PRES_ULC\"] = new Set();\r\n  }\r\n\r\n\r\n  // int_hccs[\"SEPSIS_ASP_SPEC_BACT_PNEUM\"] = my_dcs[\"SEPSIS\"] && new Set([...new Set([\"HCC114\"])].filter(x => cc_set.has(x)));\r\n  if (my_dcs[\"SEPSIS\"].size && hcc114_set.size) {\r\n    int_hccs[\"SEPSIS_ASP_SPEC_BACT_PNEUM\"] = hcc114_set;\r\n  }else {\r\n    int_hccs[\"SEPSIS_ASP_SPEC_BACT_PNEUM\"] = new Set();\r\n  }\r\n\r\n  // int_hccs[\"SCHIZOPHRENIA_gCopdCF\"] = new Set([...new Set([\"HCC57\"])].filter(x => cc_set.has(x))) && my_dcs[\"gCopdCF\"];\r\n  if (my_dcs[\"gCopdCF\"].size && hcc57_set.size) {\r\n    int_hccs[\"SCHIZOPHRENIA_gCopdCF\"] = my_dcs[\"gCopdCF\"];\r\n  }else {\r\n    int_hccs[\"SCHIZOPHRENIA_gCopdCF\"] = new Set();\r\n  }\r\n  // int_hccs[\"SCHIZOPHRENIA_CHF\"] = new Set([...new Set([\"HCC57\"])].filter(x => cc_set.has(x))) && my_dcs[\"CHF\"];\r\n  if (my_dcs[\"CHF\"].size && hcc57_set.size) {\r\n    int_hccs[\"SCHIZOPHRENIA_CHF\"] = my_dcs[\"CHF\"];\r\n  }else {\r\n    int_hccs[\"SCHIZOPHRENIA_CHF\"] = new Set();\r\n  }\r\n  // int_hccs[\"SCHIZOPHRENIA_SEIZURES\"] = new Set([...new Set([\"HCC57\"])].filter(x => cc_set.has(x))) && new Set([...new Set([\"HCC79\"])].filter(x => cc_set.has(x)));\r\n  if (hcc79_set.size && hcc57_set.size) {\r\n    int_hccs[\"SCHIZOPHRENIA_SEIZURES\"] = hcc79_set;\r\n  }else {\r\n    int_hccs[\"SCHIZOPHRENIA_SEIZURES\"] = new Set();\r\n  }\r\n\r\n  if (disabl === true) {\r\n      int_hccs[\"DISABLED_HCC85\"] = new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\r\n      int_hccs[\"DISABLED_PRESSURE_ULCER\"] = int_hccs[\"PRESSURE_ULCER\"];\r\n      int_hccs[\"DISABLED_HCC161\"] = new Set([...new Set([\"HCC161\"])].filter(x => cc_set.has(x)));\r\n      int_hccs[\"DISABLED_HCC39\"] = new Set([...new Set([\"HCC39\"])].filter(x => cc_set.has(x)));\r\n      int_hccs[\"DISABLED_HCC77\"] = new Set([...new Set([\"HCC77\"])].filter(x => cc_set.has(x)));\r\n      int_hccs[\"DISABLED_HCC6\"] = new Set([...new Set([\"HCC6\"])].filter(x => cc_set.has(x)));\r\n\r\n      if (typeof age !== 'undefined' && age < 65) {\r\n          int_hccs[\"disable_substAbuse_psych_V23\"] = int_hccs[\"gSubstanceAbuse_gPsychiatric\"]\r\n      }\r\n  }\r\n\r\n  var int_hccs_new = [];\r\n  for (var key in int_hccs) {\r\n     if (int_hccs.hasOwnProperty(key)) {\r\n          if (int_hccs[key].size !== 0) {\r\n              int_hccs_new.push(key);\r\n          }\r\n      }\r\n  }\r\n  return ccs.concat(int_hccs_new)\r\n}\r\n\r\nfunction v23_interactions(ccs, disabl, age = '') {\r\n  /*\r\n  Calculated interaction HCCs given a dict of hccs, age, and disability flag\r\n  :param ccs: List of HCCs in the format \"HCC18\" no trumping or cleaning of HCCs is done in this function\r\n  :param disabl: CMS disabled flag\r\n  :param age: Optional age of beneficiary; only one interaction uses age and it will be assumed false if not entered\r\n  :return: List of HCC codes, including interaction codes\r\n  */\r\n  var cc_set = new Set(ccs);\r\n  var int_hccs = {};\r\n\r\n  // diagnostic categories\r\n\r\n  var diag_cats = {\r\n      \"CANCER\": new Set([\"HCC8\", \"HCC9\", \"HCC10\", \"HCC11\", \"HCC12\"]),\r\n      \"DIABETES\": new Set([\"HCC17\", \"HCC18\", \"HCC19\"]),\r\n      \"CARD_RESP_FAIL\": new Set([\"HCC82\", \"HCC83\", \"HCC84\"]),\r\n      \"CHF\": new Set([\"HCC85\"]),\r\n      \"gCopdCF\": new Set([\"HCC110\", \"HCC111\", \"HCC112\"]),\r\n      \"RENAL_V23\": new Set([\"HCC134\", \"HCC135\", \"HCC136\", \"HCC137\",\"HCC138\"]),\r\n      \"SEPSIS\": new Set([\"HCC2\"]),\r\n      \"gSubstanceAbuse_V23\": new Set([\"HCC54\", \"HCC55\",\"HCC56\"]),\r\n      \"gPsychiatric_V23\": new Set([\"HCC57\", \"HCC58\",\"HCC59\", \"HCC60\"])\r\n  };\r\n\r\n  var my_dcs = {};\r\n\r\n  for (var key in diag_cats) {\r\n      if (diag_cats.hasOwnProperty(key)) {\r\n          var key_set = new Set(diag_cats[key])\r\n          var new_values = new Set([...key_set].filter(x => cc_set.has(x)));\r\n          my_dcs[key] = new_values;\r\n      }\r\n  \r\n  }\r\n  // Community Interactions\r\n  var hcc85_set = new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\r\n  var hcc47_set = new Set([...new Set([\"HCC47\"])].filter(x => cc_set.has(x)));\r\n  var hcc96_set = new Set([...new Set([\"HCC96\"])].filter(x => cc_set.has(x)));\r\n  \r\n  // int_hccs[\"HCC47_gCancer\"] = my_dcs[\"CANCER\"] && new Set([...new Set([\"HCC47\"])].filter(x => cc_set.has(x)));\r\n  if ( my_dcs[\"CANCER\"].size && hcc47_set.size) {\r\n      int_hccs[\"HCC47_gCancer\"] = hcc47_set;\r\n  }else {\r\n    int_hccs[\"HCC47_gCancer\"] = new Set();\r\n  }\r\n  \r\n  // int_hccs[\"HCC85_gDiabetesMellit\"] = my_dcs[\"DIABETES\"] && new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\r\n  if (my_dcs[\"DIABETES\"].size && hcc85_set.size) {\r\n      int_hccs[\"HCC85_gDiabetesMellit\"] = hcc85_set;\r\n  }else {\r\n    int_hccs[\"HCC85_gDiabetesMellit\"] = new Set();\r\n  }\r\n\r\n  // int_hccs[\"HCC85_gCopdCF\"] = my_dcs[\"gCopdCF\"] && new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\r\n  if (my_dcs[\"gCopdCF\"].size && hcc85_set.size) {\r\n      int_hccs[\"HCC85_gCopdCF\"] = hcc85_set;\r\n  }else {\r\n    int_hccs[\"HCC85_gCopdCF\"] = new Set();\r\n  }\r\n  \r\n  // int_hccs[\"HCC85_gRenal_V23\"] = my_dcs[\"RENAL_V23\"] && new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\r\n  if ( my_dcs[\"RENAL_V23\"].size && hcc85_set.size) {\r\n      int_hccs[\"HCC85_gRenal_V23\"] = hcc85_set;\r\n  }else {\r\n    int_hccs[\"HCC85_gRenal_V23\"] = new Set();\r\n  }\r\n  // int_hccs[\"gRespDepandArre_gCopdCF\"] = my_dcs[\"gCopdCF\"] && my_dcs[\"CARD_RESP_FAIL\"];\r\n  if (my_dcs[\"gCopdCF\"].size && my_dcs[\"CARD_RESP_FAIL\"].size) {\r\n    int_hccs[\"gRespDepandArre_gCopdCF\"] = my_dcs[\"CARD_RESP_FAIL\"];\r\n  }else {\r\n    int_hccs[\"gRespDepandArre_gCopdCF\"] = new Set();\r\n  }\r\n  // int_hccs[\"HCC85_HCC96\"] = new Set([...new Set([\"HCC96\"])].filter(x => cc_set.has(x))) && new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\r\n  if (hcc96_set.size && hcc85_set.size) {\r\n    int_hccs[\"HCC85_HCC96\"] = hcc96_set;\r\n  }else {\r\n    int_hccs[\"HCC85_HCC96\"] = new Set();\r\n  }\r\n  // int_hccs[\"gSubstanceAbuse_gPsychiatric_V23\"] = my_dcs[\"gPsychiatric_V23\"] && my_dcs[\"gSubstanceAbuse_V23\"];\r\n  if (my_dcs[\"gPsychiatric_V23\"].size && my_dcs[\"gSubstanceAbuse_V23\"].size) {\r\n    int_hccs[\"gSubstanceAbuse_gPsychiatric_V23\"] =  my_dcs[\"gSubstanceAbuse_V23\"];\r\n  }else {\r\n    int_hccs[\"gSubstanceAbuse_gPsychiatric_V23\"] = new Set();\r\n  }\r\n\r\n  // institutional model interactions\r\n  var hcc188_set = new Set([...new Set([\"HCC188\"])].filter(x => cc_set.has(x)));\r\n  var hcc114_set = new Set([...new Set([\"HCC114\"])].filter(x => cc_set.has(x)));\r\n  var hcc57_set = new Set([...new Set([\"HCC57\"])].filter(x => cc_set.has(x)));\r\n  var hcc79_set = new Set([...new Set([\"HCC79\"])].filter(x => cc_set.has(x)));\r\n  int_hccs[\"PRESSURE_ULCER\"] = new Set([...new Set([\"HCC157\", \"HCC158\"])].filter(x => cc_set.has(x)));\r\n  // int_hccs[\"CHF_gCopdCF\"] = my_dcs[\"CHF\"] && my_dcs[\"gCopdCF\"];\r\n  if (my_dcs[\"CHF\"].size && my_dcs[\"gCopdCF\"].size) {\r\n    int_hccs[\"CHF_gCopdCF\"] =  my_dcs[\"gCopdCF\"];\r\n  }else {\r\n    int_hccs[\"CHF_gCopdCF\"] = new Set();\r\n  }\r\n  // int_hccs[\"gCopdCF_CARD_RESP_FAIL\"] = my_dcs[\"gCopdCF\"] && my_dcs[\"CARD_RESP_FAIL\"];\r\n  if (my_dcs[\"CARD_RESP_FAIL\"].size && my_dcs[\"gCopdCF\"].size) {\r\n    int_hccs[\"gCopdCF_CARD_RESP_FAIL\"] =  my_dcs[\"CARD_RESP_FAIL\"];\r\n  }else {\r\n    int_hccs[\"gCopdCF_CARD_RESP_FAIL\"] = new Set();\r\n  }\r\n  // int_hccs[\"SEPSIS_PRESSURE_ULCER\"] = my_dcs[\"SEPSIS\"] && int_hccs[\"PRESSURE_ULCER\"];\r\n  if (my_dcs[\"SEPSIS\"].size && int_hccs[\"PRESSURE_ULCER\"].size) {\r\n    int_hccs[\"SEPSIS_PRESSURE_ULCER\"] =  int_hccs[\"PRESSURE_ULCER\"];\r\n  }else {\r\n    int_hccs[\"SEPSIS_PRESSURE_ULCER\"] = new Set();\r\n  }\r\n  // int_hccs[\"SEPSIS_ARTIF_OPENINGS\"] = my_dcs[\"SEPSIS\"] && new Set([...new Set([\"HCC188\"])].filter(x => cc_set.has(x)));\r\n  if (my_dcs[\"SEPSIS\"].size && hcc188_set.size) {\r\n    int_hccs[\"SEPSIS_ARTIF_OPENINGS\"] = hcc188_set;\r\n  }else {\r\n    int_hccs[\"SEPSIS_ARTIF_OPENINGS\"] = new Set();\r\n  }\r\n  // int_hccs[\"ART_OPENINGS_PRESSURE_ULCER\"] = new Set([...new Set([\"HCC188\"])].filter(x => cc_set.has(x))) && int_hccs[\"PRESSURE_ULCER\"];\r\n  if (int_hccs[\"PRESSURE_ULCER\"].size && hcc188_set.size) {\r\n    int_hccs[\"ART_OPENINGS_PRESSURE_ULCER\"] = int_hccs[\"PRESSURE_ULCER\"];\r\n  }else {\r\n    int_hccs[\"ART_OPENINGS_PRESSURE_ULCER\"] = new Set();\r\n  }\r\n  // int_hccs[\"DIABETES_CHF\"] = my_dcs[\"DIABETES\"] && my_dcs[\"CHF\"];\r\n  if (my_dcs[\"DIABETES\"].size && my_dcs[\"CHF\"].size) {\r\n    int_hccs[\"DIABETES_CHF\"] = my_dcs[\"CHF\"];\r\n  }else {\r\n    int_hccs[\"DIABETES_CHF\"] = new Set();\r\n  }\r\n  // int_hccs[\"gCopdCF_ASP_SPEC_B_PNEUM\"] = my_dcs[\"gCopdCF\"] && new Set([...new Set([\"HCC114\"])].filter(x => cc_set.has(x)));\r\n  if (my_dcs[\"gCopdCF\"].size && hcc114_set.size) {\r\n    int_hccs[\"gCopdCF_ASP_SPEC_B_PNEUM\"] = hcc114_set;\r\n  }else {\r\n    int_hccs[\"gCopdCF_ASP_SPEC_B_PNEUM\"] = new Set();\r\n  }\r\n  // int_hccs[\"ASP_SPEC_BACT_PNEUM_PRES_ULC\"] = new Set([...new Set([\"HCC114\"])].filter(x => cc_set.has(x))) && int_hccs[\"PRESSURE_ULCER\"];\r\n  if (int_hccs[\"PRESSURE_ULCER\"].size && hcc114_set.size) {\r\n    int_hccs[\"ASP_SPEC_BACT_PNEUM_PRES_ULC\"] = int_hccs[\"PRESSURE_ULCER\"];\r\n  }else {\r\n    int_hccs[\"ASP_SPEC_BACT_PNEUM_PRES_ULC\"] = new Set();\r\n  }\r\n  // int_hccs[\"SEPSIS_ASP_SPEC_BACT_PNEUM\"] = my_dcs[\"SEPSIS\"] && new Set([...new Set([\"HCC114\"])].filter(x => cc_set.has(x)));\r\n  if (my_dcs[\"SEPSIS\"].size && hcc114_set.size) {\r\n    int_hccs[\"SEPSIS_ASP_SPEC_BACT_PNEUM\"] = hcc114_set;\r\n  }else {\r\n    int_hccs[\"SEPSIS_ASP_SPEC_BACT_PNEUM\"] = new Set();\r\n  }\r\n  // int_hccs[\"SCHIZOPHRENIA_gCopdCF\"] = new Set([...new Set([\"HCC57\"])].filter(x => cc_set.has(x))) && my_dcs[\"gCopdCF\"];\r\n  if (my_dcs[\"gCopdCF\"].size && hcc57_set.size) {\r\n    int_hccs[\"SCHIZOPHRENIA_gCopdCF\"] = my_dcs[\"gCopdCF\"];\r\n  }else {\r\n    int_hccs[\"SCHIZOPHRENIA_gCopdCF\"] = new Set();\r\n  }\r\n  // int_hccs[\"SCHIZOPHRENIA_CHF\"] = new Set([...new Set([\"HCC57\"])].filter(x => cc_set.has(x))) && my_dcs[\"CHF\"];\r\n  if (my_dcs[\"CHF\"].size && hcc57_set.size) {\r\n    int_hccs[\"SCHIZOPHRENIA_CHF\"] = my_dcs[\"CHF\"];\r\n  }else {\r\n    int_hccs[\"SCHIZOPHRENIA_CHF\"] = new Set();\r\n  }\r\n  // int_hccs[\"SCHIZOPHRENIA_SEIZURES\"] = new Set([...new Set([\"HCC57\"])].filter(x => cc_set.has(x))) && new Set([...new Set([\"HCC79\"])].filter(x => cc_set.has(x)));\r\n  if (hcc79_set.size && hcc57_set.size) {\r\n    int_hccs[\"SCHIZOPHRENIA_SEIZURES\"] = hcc79_set;\r\n  }else {\r\n    int_hccs[\"SCHIZOPHRENIA_SEIZURES\"] = new Set();\r\n  }\r\n\r\n  if (disabl === true) {\r\n      int_hccs[\"DISABLED_HCC85\"] = new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\r\n      int_hccs[\"DISABLED_PRESSURE_ULCER\"] = int_hccs[\"PRESSURE_ULCER\"];\r\n      int_hccs[\"DISABLED_HCC161\"] = new Set([...new Set([\"HCC161\"])].filter(x => cc_set.has(x)));\r\n      int_hccs[\"DISABLED_HCC39\"] = new Set([...new Set([\"HCC39\"])].filter(x => cc_set.has(x)));\r\n      int_hccs[\"DISABLED_HCC77\"] = new Set([...new Set([\"HCC77\"])].filter(x => cc_set.has(x)));\r\n      int_hccs[\"DISABLED_HCC6\"] = new Set([...new Set([\"HCC6\"])].filter(x => cc_set.has(x)));\r\n\r\n      if (typeof age !== 'undefined' && age < 65) {\r\n          int_hccs[\"disable_substAbuse_psych_V23\"] = int_hccs[\"gSubstanceAbuse_gPsychiatric_V23\"]\r\n      }\r\n  }\r\n\r\n  var int_hccs_new = [];\r\n  for (var key in int_hccs) {\r\n     if (int_hccs.hasOwnProperty(key)) {\r\n          if (int_hccs[key].size !== 0) {\r\n              int_hccs_new.push(key);\r\n          }\r\n      }\r\n  }\r\n  \r\n  return ccs.concat(int_hccs_new)\r\n}\r\n\r\nfunction v24_interactions(ccs, disabl, age = '') {\r\n  /*\r\n  Calculated interaction HCCs given a list of hccs, age, and disability flag\r\n  :param ccs: List of HCCs in the format \"HCC18\" no trumping or cleaning of HCCs is done in this function\r\n  :param disabl: CMS disabled flag\r\n  :param age: Optional age of beneficiary; only one interaction uses age and it will be assumed false if not entered\r\n  :return: List of HCC codes, including interaction codes\r\n  */\r\n  var cc_set = new Set(ccs);\r\n  var int_hccs = {};\r\n   var cnt = cc_set.length;\r\n   if (cnt > 9) {\r\n    int_hccs[\"D10P\"];\r\n   }\r\n   if (cnt > 3 && cnt < 10) {\r\n    var index = \"D\".concat(cnt);\r\n    int_hccs[index];\r\n   } \r\n\r\n  // diagnostic categories\r\n  var diag_cats = {\r\n      \"CANCER\": new Set([\"HCC8\", \"HCC9\", \"HCC10\", \"HCC11\", \"HCC12\"]),\r\n      \"DIABETES\": new Set([\"HCC17\", \"HCC18\", \"HCC19\"]),\r\n      \"CARD_RESP_FAIL\": new Set([\"HCC82\", \"HCC83\", \"HCC84\"]),\r\n      \"CHF\": new Set([\"HCC85\"]),\r\n      \"gCopdCF\": new Set([\"HCC110\", \"HCC111\", \"HCC112\"]),\r\n      \"RENAL_V24\": new Set([\"HCC134\", \"HCC135\", \"HCC136\", \"HCC137\", \"HCC138\"]),\r\n      \"SEPSIS\": new Set([\"HCC2\"]),\r\n      \"gSubstanceAbuse_V24\": new Set([\"HCC54\", \"HCC55\", \"HCC56\"]),\r\n      \"gPsychiatric_V24\": new Set([\"HCC57\", \"HCC58\", \"HCC59\", \"HCC60\"])\r\n  };\r\n\r\n  var my_dcs = {};\r\n\r\n  for (var key in diag_cats) {\r\n      if (diag_cats.hasOwnProperty(key)) {\r\n          var key_set = new Set(diag_cats[key])\r\n          var new_values = new Set([...key_set].filter(x => cc_set.has(x)));\r\n          my_dcs[key] = new_values;\r\n      }\r\n  \r\n  }\r\n  // Community Interactions\r\n  var hcc85_set = new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\r\n  var hcc47_set = new Set([...new Set([\"HCC47\"])].filter(x => cc_set.has(x)));\r\n  var hcc96_set = new Set([...new Set([\"HCC96\"])].filter(x => cc_set.has(x)));\r\n  // int_hccs[\"HCC47_gCancer\"] = my_dcs[\"CANCER\"] && new Set([...new Set([\"HCC47\"])].filter(x => cc_set.has(x)));\r\n  if ( my_dcs[\"CANCER\"].size && hcc47_set.size) {\r\n      int_hccs[\"HCC47_gCancer\"] = hcc47_set;\r\n  }else {\r\n    int_hccs[\"HCC47_gCancer\"] = new Set();\r\n  }\r\n  \r\n  // int_hccs[\"HCC85_gDiabetesMellit\"] = my_dcs[\"DIABETES\"] && new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\r\n  if (my_dcs[\"DIABETES\"].size && hcc85_set.size) {\r\n      int_hccs[\"HCC85_gDiabetesMellit\"] = hcc85_set;\r\n  }else {\r\n    int_hccs[\"HCC85_gDiabetesMellit\"] = new Set();\r\n  }\r\n\r\n  // int_hccs[\"HCC85_gCopdCF\"] = my_dcs[\"gCopdCF\"] && new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\r\n  if (my_dcs[\"gCopdCF\"].size && hcc85_set.size) {\r\n      int_hccs[\"HCC85_gCopdCF\"] = hcc85_set;\r\n  }else {\r\n    int_hccs[\"HCC85_gCopdCF\"] = new Set();\r\n  }\r\n  \r\n  // int_hccs[\"HCC85_gRenal_V24\"] = my_dcs[\"RENAL_V24\"] && new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\r\n  if (my_dcs[\"RENAL_V24\"].size && hcc85_set.size) {\r\n      int_hccs[\"HCC85_gRenal_V24\"] = hcc85_set;\r\n  }else {\r\n    int_hccs[\"HCC85_gRenal_V24\"] = new Set();\r\n  }\r\n  // int_hccs[\"gRespDepandArre_gCopdCF\"] = my_dcs[\"gCopdCF\"] && my_dcs[\"CARD_RESP_FAIL\"];\r\n  if (my_dcs[\"gCopdCF\"].size && my_dcs[\"CARD_RESP_FAIL\"].size) {\r\n    int_hccs[\"gRespDepandArre_gCopdCF\"] = my_dcs[\"CARD_RESP_FAIL\"];\r\n  }else {\r\n    int_hccs[\"gRespDepandArre_gCopdCF\"] = new Set();\r\n  }\r\n  // int_hccs[\"HCC85_HCC96\"] = new Set([...new Set([\"HCC96\"])].filter(x => cc_set.has(x))) && new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\r\n  if (hcc96_set.size && hcc85_set.size) {\r\n    int_hccs[\"HCC85_HCC96\"] = hcc96_set;\r\n  }else {\r\n    int_hccs[\"HCC85_HCC96\"] = new Set();\r\n  }\r\n  // int_hccs[\"gSubstanceAbuse_gPsychiatric_V24\"] = my_dcs[\"gPsychiatric_V24\"] && my_dcs[\"gSubstanceAbuse_V24\"];\r\n  if (my_dcs[\"gPsychiatric_V24\"].size && my_dcs[\"gSubstanceAbuse_V24\"].size) {\r\n    int_hccs[\"gSubstanceAbuse_gPsychiatric_V24\"] =  my_dcs[\"gSubstanceAbuse_V24\"];\r\n  }else {\r\n    int_hccs[\"gSubstanceAbuse_gPsychiatric_V24\"] = new Set();\r\n  }\r\n  \r\n  // institutional model interactions\r\n  var hcc188_set = new Set([...new Set([\"HCC188\"])].filter(x => cc_set.has(x)));\r\n  var hcc114_set = new Set([...new Set([\"HCC114\"])].filter(x => cc_set.has(x)));\r\n  var hcc57_set = new Set([...new Set([\"HCC57\"])].filter(x => cc_set.has(x)));\r\n  var hcc79_set = new Set([...new Set([\"HCC79\"])].filter(x => cc_set.has(x)));\r\n  int_hccs[\"PRESSURE_ULCER\"] = new Set([...new Set([\"HCC157\", \"HCC158\"])].filter(x => cc_set.has(x)));\r\n\r\n\r\n  // int_hccs[\"SEPSIS_PRESSURE_ULCER\"] = my_dcs[\"SEPSIS\"] && int_hccs[\"PRESSURE_ULCER\"];\r\n  if (my_dcs[\"SEPSIS\"].size && int_hccs[\"PRESSURE_ULCER\"].size) {\r\n    int_hccs[\"SEPSIS_PRESSURE_ULCER\"] =  int_hccs[\"PRESSURE_ULCER\"];\r\n  }else {\r\n    int_hccs[\"SEPSIS_PRESSURE_ULCER\"] = new Set();\r\n  }\r\n  // int_hccs[\"SEPSIS_ARTIF_OPENINGS\"] = my_dcs[\"SEPSIS\"] && new Set([...new Set([\"HCC188\"])].filter(x => cc_set.has(x)));\r\n  if (my_dcs[\"SEPSIS\"].size && hcc188_set.size) {\r\n    int_hccs[\"SEPSIS_ARTIF_OPENINGS\"] = hcc188_set;\r\n  }else {\r\n    int_hccs[\"SEPSIS_ARTIF_OPENINGS\"] = new Set();\r\n  }\r\n  // int_hccs[\"ART_OPENINGS_PRESSURE_ULCER\"] = new Set([...new Set([\"HCC188\"])].filter(x => cc_set.has(x))) && int_hccs[\"PRESSURE_ULCER\"];\r\n  if (int_hccs[\"PRESSURE_ULCER\"].size && hcc188_set.size) {\r\n    int_hccs[\"ART_OPENINGS_PRESSURE_ULCER\"] = int_hccs[\"PRESSURE_ULCER\"];\r\n  }else {\r\n    int_hccs[\"ART_OPENINGS_PRESSURE_ULCER\"] = new Set();\r\n  }\r\n\r\n  // int_hccs[\"gCopdCF_ASP_SPEC_B_PNEUM\"] = my_dcs[\"gCopdCF\"] && new Set([...new Set([\"HCC114\"])].filter(x => cc_set.has(x)));\r\n  if (my_dcs[\"gCopdCF\"].size && hcc114_set.size) {\r\n    int_hccs[\"gCopdCF_ASP_SPEC_B_PNEUM\"] = hcc114_set;\r\n  }else {\r\n    int_hccs[\"gCopdCF_ASP_SPEC_B_PNEUM\"] = new Set();\r\n  }\r\n  // int_hccs[\"ASP_SPEC_BACT_PNEUM_PRES_ULC\"] = new Set([...new Set([\"HCC114\"])].filter(x => cc_set.has(x))) && int_hccs[\"PRESSURE_ULCER\"];\r\n  if (int_hccs[\"PRESSURE_ULCER\"].size && hcc114_set.size) {\r\n    int_hccs[\"ASP_SPEC_BACT_PNEUM_PRES_ULC\"] = int_hccs[\"PRESSURE_ULCER\"];\r\n  }else {\r\n    int_hccs[\"ASP_SPEC_BACT_PNEUM_PRES_ULC\"] = new Set();\r\n  }\r\n  // int_hccs[\"SEPSIS_ASP_SPEC_BACT_PNEUM\"] = my_dcs[\"SEPSIS\"] && new Set([...new Set([\"HCC114\"])].filter(x => cc_set.has(x)));\r\n  if (my_dcs[\"SEPSIS\"].size && hcc114_set.size) {\r\n    int_hccs[\"SEPSIS_ASP_SPEC_BACT_PNEUM\"] = hcc114_set;\r\n  }else {\r\n    int_hccs[\"SEPSIS_ASP_SPEC_BACT_PNEUM\"] = new Set();\r\n  }\r\n  // int_hccs[\"SCHIZOPHRENIA_gCopdCF\"] = new Set([...new Set([\"HCC57\"])].filter(x => cc_set.has(x))) && my_dcs[\"gCopdCF\"];\r\n  if (my_dcs[\"gCopdCF\"].size && hcc57_set.size) {\r\n    int_hccs[\"SCHIZOPHRENIA_gCopdCF\"] = my_dcs[\"gCopdCF\"];\r\n  }else {\r\n    int_hccs[\"SCHIZOPHRENIA_gCopdCF\"] = new Set();\r\n  }\r\n  // int_hccs[\"SCHIZOPHRENIA_CHF\"] = new Set([...new Set([\"HCC57\"])].filter(x => cc_set.has(x))) && my_dcs[\"CHF\"];\r\n  if (my_dcs[\"CHF\"].size && hcc57_set.size) {\r\n    int_hccs[\"SCHIZOPHRENIA_CHF\"] = my_dcs[\"CHF\"];\r\n  }else {\r\n    int_hccs[\"SCHIZOPHRENIA_CHF\"] = new Set();\r\n  }\r\n  // int_hccs[\"SCHIZOPHRENIA_SEIZURES\"] = new Set([...new Set([\"HCC57\"])].filter(x => cc_set.has(x))) && new Set([...new Set([\"HCC79\"])].filter(x => cc_set.has(x)));\r\n  if (hcc79_set.size && hcc57_set.size) {\r\n    int_hccs[\"SCHIZOPHRENIA_SEIZURES\"] = hcc79_set;\r\n  }else {\r\n    int_hccs[\"SCHIZOPHRENIA_SEIZURES\"] = new Set();\r\n  }\r\n  if (disabl == true) {\r\n      int_hccs[\"DISABLED_HCC85\"] = new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\r\n      int_hccs[\"DISABLED_PRESSURE_ULCER\"] = int_hccs[\"PRESSURE_ULCER\"];\r\n      int_hccs[\"DISABLED_HCC161\"] = new Set([...new Set([\"HCC161\"])].filter(x => cc_set.has(x)));\r\n      int_hccs[\"DISABLED_HCC39\"] = new Set([...new Set([\"HCC39\"])].filter(x => cc_set.has(x)));\r\n      int_hccs[\"DISABLED_HCC77\"] = new Set([...new Set([\"HCC77\"])].filter(x => cc_set.has(x)));\r\n      int_hccs[\"DISABLED_HCC6\"] = new Set([...new Set([\"HCC6\"])].filter(x => cc_set.has(x)));\r\n\r\n      if (typeof age !== 'undefined' && age < 65) {\r\n          int_hccs[\"disable_substAbuse_psych_V24\"] = int_hccs[\"gSubstanceAbuse_gPsychiatric_V24\"]\r\n      }\r\n  }\r\n\r\n  var int_hccs_new = [];\r\n  for (var key in int_hccs) {\r\n     if (int_hccs.hasOwnProperty(key)) {\r\n          if (int_hccs[key].size !== 0) {     \r\n              int_hccs_new.push(key);\r\n          }\r\n      }\r\n  }\r\n  return ccs.concat(int_hccs_new)\r\n}"],"sourceRoot":""}